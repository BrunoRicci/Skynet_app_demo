/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={9669:(t,e,r)=>{t.exports=r(1609)},5448:(t,e,r)=>{"use strict";var n=r(4867),o=r(6026),i=r(4372),s=r(5327),a=r(4097),c=r(4109),l=r(7985),u=r(5061);t.exports=function(t){return new Promise((function(e,r){var f=t.data,h=t.headers;n.isFormData(f)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";h.Authorization="Basic "+btoa(d+":"+m)}var y=a(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),s(y,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};o(e,r,i),p=null}},p.onabort=function(){p&&(r(u("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){r(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(u(e,t,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var g=(t.withCredentials||l(y))&&t.xsrfCookieName?i.read(t.xsrfCookieName):void 0;g&&(h[t.xsrfHeaderName]=g)}if("setRequestHeader"in p&&n.forEach(h,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete h[e]:p.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),r(t),p=null)})),f||(f=null),p.send(f)}))}},1609:(t,e,r)=>{"use strict";var n=r(4867),o=r(1849),i=r(321),s=r(7185);function a(t){var e=new i(t),r=o(i.prototype.request,e);return n.extend(r,i.prototype,e),n.extend(r,e),r}var c=a(r(5655));c.Axios=i,c.create=function(t){return a(s(c.defaults,t))},c.Cancel=r(5263),c.CancelToken=r(4972),c.isCancel=r(6502),c.all=function(t){return Promise.all(t)},c.spread=r(8713),c.isAxiosError=r(6268),t.exports=c,t.exports.default=c},5263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4972:(t,e,r)=>{"use strict";var n=r(5263);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},6502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,r)=>{"use strict";var n=r(4867),o=r(5327),i=r(782),s=r(3572),a=r(7185);function c(t){this.defaults=t,this.interceptors={request:new i,response:new i}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)r=r.then(e.shift(),e.shift());return r},c.prototype.getUri=function(t){return t=a(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,r){return this.request(a(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,r,n){return this.request(a(n||{},{method:t,url:e,data:r}))}})),t.exports=c},782:(t,e,r)=>{"use strict";var n=r(4867);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},4097:(t,e,r)=>{"use strict";var n=r(1793),o=r(7303);t.exports=function(t,e){return t&&!n(e)?o(t,e):e}},5061:(t,e,r)=>{"use strict";var n=r(481);t.exports=function(t,e,r,o,i){var s=new Error(t);return n(s,e,r,o,i)}},3572:(t,e,r)=>{"use strict";var n=r(4867),o=r(8527),i=r(6502),s=r(5655);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return a(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(a(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:t=>{"use strict";t.exports=function(t,e,r,n,o){return t.config=e,r&&(t.code=r),t.request=n,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},7185:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t,e){e=e||{};var r={},o=["url","method","data"],i=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function l(o){n.isUndefined(e[o])?n.isUndefined(t[o])||(r[o]=c(void 0,t[o])):r[o]=c(t[o],e[o])}n.forEach(o,(function(t){n.isUndefined(e[t])||(r[t]=c(void 0,e[t]))})),n.forEach(i,l),n.forEach(s,(function(o){n.isUndefined(e[o])?n.isUndefined(t[o])||(r[o]=c(void 0,t[o])):r[o]=c(void 0,e[o])})),n.forEach(a,(function(n){n in e?r[n]=c(t[n],e[n]):n in t&&(r[n]=c(void 0,t[n]))}));var u=o.concat(i).concat(s).concat(a),f=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===u.indexOf(t)}));return n.forEach(f,l),r}},6026:(t,e,r)=>{"use strict";var n=r(5061);t.exports=function(t,e,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},8527:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t,e,r){return n.forEach(r,(function(r){t=r(t,e)})),t}},5655:(t,e,r)=>{"use strict";var n=r(4867),o=r(6016),i={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(a=r(5448)),a),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){c.headers[t]=n.merge(i)})),t.exports=c},1849:t=>{"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},5327:(t,e,r)=>{"use strict";var n=r(4867);function o(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var i;if(r)i=r(e);else if(n.isURLSearchParams(e))i=e.toString();else{var s=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(o(e)+"="+o(t))})))})),i=s.join("&")}if(i){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},7303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:(t,e,r)=>{"use strict";var n=r(4867);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,o,i,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},6268:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},7985:(t,e,r)=>{"use strict";var n=r(4867);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(e){var r=n.isString(e)?o(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},6016:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},4109:(t,e,r)=>{"use strict";var n=r(4867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,i,s={};return t?(n.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=n.trim(t.substr(0,i)).toLowerCase(),r=n.trim(t.substr(i+1)),e){if(s[e]&&o.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([r]):s[e]?s[e]+", "+r:r}})),s):s}},8713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},4867:(t,e,r)=>{"use strict";var n=r(1849),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function s(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==o.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function l(t){return"[object Function]"===o.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isPlainObject:c,isUndefined:s,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:l,isStream:function(t){return a(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function r(r,n){c(e[n])&&c(r)?e[n]=t(e[n],r):c(r)?e[n]=t({},r):i(r)?e[n]=r.slice():e[n]=r}for(var n=0,o=arguments.length;n<o;n++)u(arguments[n],r);return e},extend:function(t,e,r){return u(e,(function(e,o){t[o]=r&&"function"==typeof e?n(e,r):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},4501:t=>{function e(t,e){var r=t.indexOf(e);if(-1===r)throw new Error("Invalid character found: "+e);return r}t.exports=function(t,r){var n;switch(r){case"RFC3548":case"RFC4648":n="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",t=t.replace(/=+$/,"");break;case"RFC4648-HEX":n="0123456789ABCDEFGHIJKLMNOPQRSTUV",t=t.replace(/=+$/,"");break;case"Crockford":n="0123456789ABCDEFGHJKMNPQRSTVWXYZ",t=t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1");break;default:throw new Error("Unknown base32 variant: "+r)}for(var o=t.length,i=0,s=0,a=0,c=new Uint8Array(5*o/8|0),l=0;l<o;l++)s=s<<5|e(n,t[l]),(i+=5)>=8&&(c[a++]=s>>>i-8&255,i-=8);return c.buffer}},1227:(t,e,r)=>{var n=r(489);t.exports=function(t,e,r){var o,i;switch(r=r||{},e){case"RFC3548":case"RFC4648":o="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",i=!0;break;case"RFC4648-HEX":o="0123456789ABCDEFGHIJKLMNOPQRSTUV",i=!0;break;case"Crockford":o="0123456789ABCDEFGHJKMNPQRSTVWXYZ",i=!1;break;default:throw new Error("Unknown base32 variant: "+e)}for(var s=void 0!==r.padding?r.padding:i,a=n(t),c=0,l=0,u="",f=0;f<a.byteLength;f++)for(l=l<<8|a.getUint8(f),c+=8;c>=5;)u+=o[l>>>c-5&31],c-=5;if(c>0&&(u+=o[l<<5-c&31]),s)for(;u.length%8!=0;)u+="=";return u}},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,i=c(t),s=i[0],a=i[1],l=new o(function(t,e,r){return 3*(e+r)/4-r}(0,s,a)),u=0,f=a>0?s-4:s;for(r=0;r<f;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===a&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,l[u++]=255&e),1===a&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],s=16383,a=0,c=n-o;a<c;a+=s)i.push(l(t,a,a+s>c?c:a+s));return 1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)r[s]=i[s],n[i.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,n){for(var o,i,s=[],a=e;a<n;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8442:(t,e,r)=>{const n=r(9488);function o(t,e,r){const n=t[e]+t[r];let o=t[e+1]+t[r+1];n>=4294967296&&o++,t[e]=n,t[e+1]=o}function i(t,e,r,n){let o=t[e]+r;r<0&&(o+=4294967296);let i=t[e+1]+n;o>=4294967296&&i++,t[e]=o,t[e+1]=i}function s(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function a(t,e,r,n,s,a){const c=f[s],l=f[s+1],h=f[a],p=f[a+1];o(u,t,e),i(u,t,c,l);let d=u[n]^u[t],m=u[n+1]^u[t+1];u[n]=m,u[n+1]=d,o(u,r,n),d=u[e]^u[r],m=u[e+1]^u[r+1],u[e]=d>>>24^m<<8,u[e+1]=m>>>24^d<<8,o(u,t,e),i(u,t,h,p),d=u[n]^u[t],m=u[n+1]^u[t+1],u[n]=d>>>16^m<<16,u[n+1]=m>>>16^d<<16,o(u,r,n),d=u[e]^u[r],m=u[e+1]^u[r+1],u[e]=m>>>31^d<<1,u[e+1]=d>>>31^m<<1}const c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),l=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(t){return 2*t}))),u=new Uint32Array(32),f=new Uint32Array(32);function h(t,e){let r=0;for(r=0;r<16;r++)u[r]=t.h[r],u[r+16]=c[r];for(u[24]=u[24]^t.t,u[25]=u[25]^t.t/4294967296,e&&(u[28]=~u[28],u[29]=~u[29]),r=0;r<32;r++)f[r]=s(t.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,l[16*r+0],l[16*r+1]),a(2,10,18,26,l[16*r+2],l[16*r+3]),a(4,12,20,28,l[16*r+4],l[16*r+5]),a(6,14,22,30,l[16*r+6],l[16*r+7]),a(0,10,20,30,l[16*r+8],l[16*r+9]),a(2,12,22,24,l[16*r+10],l[16*r+11]),a(4,14,16,26,l[16*r+12],l[16*r+13]),a(6,8,18,28,l[16*r+14],l[16*r+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^u[r]^u[r+16]}function p(t,e){if(0===t||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");const r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};for(let t=0;t<16;t++)r.h[t]=c[t];const n=e?e.length:0;return r.h[0]^=16842752^n<<8^t,e&&(d(r,e),r.c=128),r}function d(t,e){for(let r=0;r<e.length;r++)128===t.c&&(t.t+=t.c,h(t,!1),t.c=0),t.b[t.c++]=e[r]}function m(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;h(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r);return e}function y(t,e,r){r=r||64,t=n.normalizeInput(t);const o=p(r,e);return d(o,t),m(o)}t.exports={blake2b:y,blake2bHex:function(t,e,r){const o=y(t,e,r);return n.toHex(o)},blake2bInit:p,blake2bUpdate:d,blake2bFinal:m}},5297:(t,e,r)=>{const n=r(9488);function o(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function i(t,e,r,n,o,i){l[t]=l[t]+l[e]+o,l[n]=s(l[n]^l[t],16),l[r]=l[r]+l[n],l[e]=s(l[e]^l[r],12),l[t]=l[t]+l[e]+i,l[n]=s(l[n]^l[t],8),l[r]=l[r]+l[n],l[e]=s(l[e]^l[r],7)}function s(t,e){return t>>>e^t<<32-e}const a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),l=new Uint32Array(16),u=new Uint32Array(16);function f(t,e){let r=0;for(r=0;r<8;r++)l[r]=t.h[r],l[r+8]=a[r];for(l[12]^=t.t,l[13]^=t.t/4294967296,e&&(l[14]=~l[14]),r=0;r<16;r++)u[r]=o(t.b,4*r);for(r=0;r<10;r++)i(0,4,8,12,u[c[16*r+0]],u[c[16*r+1]]),i(1,5,9,13,u[c[16*r+2]],u[c[16*r+3]]),i(2,6,10,14,u[c[16*r+4]],u[c[16*r+5]]),i(3,7,11,15,u[c[16*r+6]],u[c[16*r+7]]),i(0,5,10,15,u[c[16*r+8]],u[c[16*r+9]]),i(1,6,11,12,u[c[16*r+10]],u[c[16*r+11]]),i(2,7,8,13,u[c[16*r+12]],u[c[16*r+13]]),i(3,4,9,14,u[c[16*r+14]],u[c[16*r+15]]);for(r=0;r<8;r++)t.h[r]^=l[r]^l[r+8]}function h(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(p(n,e),n.c=64),n}function p(t,e){for(let r=0;r<e.length;r++)64===t.c&&(t.t+=t.c,f(t,!1),t.c=0),t.b[t.c++]=e[r]}function d(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;f(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r)&255;return e}function m(t,e,r){r=r||32,t=n.normalizeInput(t);const o=h(r,e);return p(o,t),d(o)}t.exports={blake2s:m,blake2sHex:function(t,e,r){const o=m(t,e,r);return n.toHex(o)},blake2sInit:h,blake2sUpdate:p,blake2sFinal:d}},1191:(t,e,r)=>{const n=r(8442),o=r(5297);t.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:o.blake2s,blake2sHex:o.blake2sHex,blake2sInit:o.blake2sInit,blake2sUpdate:o.blake2sUpdate,blake2sFinal:o.blake2sFinal}},9488:t=>{function e(t){return(4294967296+t).toString(16).substring(1)}t.exports={normalizeInput:function(t){let e;if(t instanceof Uint8Array)e=t;else if(t instanceof Buffer)e=new Uint8Array(t);else{if("string"!=typeof t)throw new Error("Input must be an string, Buffer or Uint8Array");e=new Uint8Array(Buffer.from(t,"utf8"))}return e},toHex:function(t){return Array.prototype.map.call(t,(function(t){return(t<16?"0":"")+t.toString(16)})).join("")},debugPrint:function(t,r,n){let o="\n"+t+" = ";for(let i=0;i<r.length;i+=2){if(32===n)o+=e(r[i]).toUpperCase(),o+=" ",o+=e(r[i+1]).toUpperCase();else{if(64!==n)throw new Error("Invalid size "+n);o+=e(r[i+1]).toUpperCase(),o+=e(r[i]).toUpperCase()}i%6==4?o+="\n"+new Array(t.length+4).join(" "):i<r.length-2&&(o+=" ")}console.log(o)},testSpeed:function(t,e,r){let n=(new Date).getTime();const o=new Uint8Array(e);for(let t=0;t<e;t++)o[t]=t%256;const i=(new Date).getTime();console.log("Generated random input in "+(i-n)+"ms"),n=i;for(let i=0;i<r;i++){const r=t(o),i=(new Date).getTime(),s=i-n;n=i,console.log("Hashed in "+s+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(s/1e3)*100)/100+" MB PER SECOND")}}}},8764:(t,e,r)=>{"use strict";const n=r(9742),o=r(645),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return l(t,e,r)}function l(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let n=a(r);const o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(V(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(V(t,ArrayBuffer)||t&&V(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(V(t,SharedArrayBuffer)||t&&V(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return c.from(n,e,r);const o=function(t){if(c.isBuffer(t)){const e=0|d(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||J(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return u(t),a(t<0?0:0|d(t))}function h(t){const e=t.length<0?0:0|d(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,c.prototype),n}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function m(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||V(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(t).length;default:if(o)return n?-1:W(t).length;e=(""+e).toLowerCase(),o=!0}}function y(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return P(this,e,r);case"latin1":case"binary":return R(this,e,r);case"base64":return _(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function w(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,o){let i,s=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,r/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){let n=-1;for(i=r;i<a;i++)if(l(t,i)===l(e,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===c)return n*s}else-1!==n&&(i-=i-n),n=-1}else for(r+c>a&&(r=a-c),i=r;i>=0;i--){let r=!0;for(let n=0;n<c;n++)if(l(t,i+n)!==l(e,n)){r=!1;break}if(r)return i}return-1}function b(t,e,r,n){r=Number(r)||0;const o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;const i=e.length;let s;for(n>i/2&&(n=i/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(J(n))return s;t[r+s]=n}return s}function x(t,e,r,n){return G(W(e,t.length-r),t,r,n)}function E(t,e,r,n){return G(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function k(t,e,r,n){return G(Y(e),t,r,n)}function U(t,e,r,n){return G(function(t,e){let r,n,o;const i=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function _(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);const n=[];let o=e;for(;o<r;){const e=t[o];let i=null,s=e>239?4:e>223?3:e>191?2:1;if(o+s<=r){let r,n,a,c;switch(s){case 1:e<128&&(i=e);break;case 2:r=t[o+1],128==(192&r)&&(c=(31&e)<<6|63&r,c>127&&(i=c));break;case 3:r=t[o+1],n=t[o+2],128==(192&r)&&128==(192&n)&&(c=(15&e)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:r=t[o+1],n=t[o+2],a=t[o+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=s}return function(t){const e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return l(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return function(t,e,r){return u(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},c.allocUnsafe=function(t){return f(t)},c.allocUnsafeSlow=function(t){return f(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(V(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),V(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=c.allocUnsafe(e);let o=0;for(r=0;r<t.length;++r){let e=t[r];if(V(e,Uint8Array))o+e.length>n.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(n,o)):Uint8Array.prototype.set.call(n,e,o);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,o)}o+=e.length}return n},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)g(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(t,e,r,n,o){if(V(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;let i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(i,s),l=this.slice(n,o),u=t.slice(e,r);for(let t=0;t<a;++t)if(l[t]!==u[t]){i=l[t],s=u[t];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return w(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return w(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return x(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return k(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function P(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function R(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function O(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let o="";for(let n=e;n<r;++n)o+=X[t[n]];return o}function B(t,e,r){const n=t.slice(e,r);let o="";for(let t=0;t<n.length-1;t+=2)o+=String.fromCharCode(n[t]+256*n[t+1]);return o}function C(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,r,n,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function L(t,e,r,n,o){N(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function I(t,e,r,n,o){N(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r+7]=i,i>>=8,t[r+6]=i,i>>=8,t[r+5]=i,i>>=8,t[r+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function T(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,i){return e=+e,r>>>=0,i||T(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function H(t,e,r,n,i){return e=+e,r>>>=0,i||T(t,0,r,8),o.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||C(t,e,this.length);let n=this[t],o=1,i=0;for(;++i<e&&(o*=256);)n+=this[t+i]*o;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||C(t,e,this.length);let n=this[t+--e],o=1;for(;e>0&&(o*=256);)n+=this[t+--e]*o;return n},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Z((function(t){z(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||$(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(t){z(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||$(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||C(t,e,this.length);let n=this[t],o=1,i=0;for(;++i<e&&(o*=256);)n+=this[t+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||C(t,e,this.length);let n=e,o=1,i=this[t+--n];for(;n>0&&(o*=256);)i+=this[t+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||C(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||C(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Z((function(t){z(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||$(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Z((function(t){z(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||$(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||C(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||C(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||C(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||C(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||j(this,t,e,r,Math.pow(2,8*r)-1,0);let o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||j(this,t,e,r,Math.pow(2,8*r)-1,0);let o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Z((function(t,e=0){return L(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(t,e=0){return I(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);j(this,t,e,r,n-1,-n)}let o=0,i=1,s=0;for(this[e]=255&t;++o<r&&(i*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);j(this,t,e,r,n-1,-n)}let o=r-1,i=1,s=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Z((function(t,e=0){return L(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(t,e=0){return I(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return H(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return H(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const o=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),o},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{const i=c.isBuffer(t)?t:c.from(t,n),s=i.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=i[o%s]}return this};const M={};function F(t,e,r){M[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function q(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function N(t,e,r,n,o,i){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new M.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,r){z(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||$(e,t.length-(r+1))}(n,o,i)}function z(t,e){if("number"!=typeof t)throw new M.ERR_INVALID_ARG_TYPE(e,"number",t)}function $(t,e,r){if(Math.floor(t)!==t)throw z(t,r),new M.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=q(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=q(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let o=null;const i=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function Y(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){let o;for(o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function V(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)e[n+o]=t[r]+t[o]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},645:(t,e)=>{e.read=function(t,e,r,n,o){var i,s,a=8*o-n-1,c=(1<<a)-1,l=c>>1,u=-7,f=r?o-1:0,h=r?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-u)-1,p>>=-u,u+=a;u>0;i=256*i+t[e+f],f+=h,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=n;u>0;s=256*s+t[e+f],f+=h,u-=8);if(0===i)i=1-l;else{if(i===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),i-=l}return(p?-1:1)*s*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var s,a,c,l=8*i-o-1,u=(1<<l)-1,f=u>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(e*c-1)*Math.pow(2,o),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;t[r+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;t[r+p]=255&s,p+=d,s/=256,l-=8);t[r+p-d]|=128*m}},9575:function(t,e,r){var n,o;o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:this,t.exports=function(r){"use strict";var o,i=(r=r||{}).Base64,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(t){for(var e={},r=0,n=t.length;r<n;r++)e[t.charAt(r)]=r;return e}(s),c=String.fromCharCode,l=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?c(192|e>>>6)+c(128|63&e):c(224|e>>>12&15)+c(128|e>>>6&63)+c(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return c(240|e>>>18&7)+c(128|e>>>12&63)+c(128|e>>>6&63)+c(128|63&e)},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=function(t){return t.replace(u,l)},h=function(t){var e=[0,2,1][t.length%3],r=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[s.charAt(r>>>18),s.charAt(r>>>12&63),e>=2?"=":s.charAt(r>>>6&63),e>=1?"=":s.charAt(63&r)].join("")},p=r.btoa&&"function"==typeof r.btoa?function(t){return r.btoa(t)}:function(t){if(t.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return t.replace(/[\s\S]{1,3}/g,h)},d=function(t){return p(f(String(t)))},m=function(t){return t.replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"})).replace(/=/g,"")},y=function(t,e){return e?m(d(t)):d(t)};r.Uint8Array&&(o=function(t,e){for(var r="",n=0,o=t.length;n<o;n+=3){var i=t[n],a=t[n+1],c=t[n+2],l=i<<16|a<<8|c;r+=s.charAt(l>>>18)+s.charAt(l>>>12&63)+(void 0!==a?s.charAt(l>>>6&63):"=")+(void 0!==c?s.charAt(63&l):"=")}return e?m(r):r});var g,w=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,v=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return c(55296+(e>>>10))+c(56320+(1023&e));case 3:return c((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return c((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},b=function(t){return t.replace(w,v)},x=function(t){var e=t.length,r=e%4,n=(e>0?a[t.charAt(0)]<<18:0)|(e>1?a[t.charAt(1)]<<12:0)|(e>2?a[t.charAt(2)]<<6:0)|(e>3?a[t.charAt(3)]:0),o=[c(n>>>16),c(n>>>8&255),c(255&n)];return o.length-=[0,0,2,1][r],o.join("")},E=r.atob&&"function"==typeof r.atob?function(t){return r.atob(t)}:function(t){return t.replace(/\S{1,4}/g,x)},k=function(t){return E(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},U=function(t){return String(t).replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},_=function(t){return function(t){return b(E(t))}(U(t))};r.Uint8Array&&(g=function(t){return Uint8Array.from(k(U(t)),(function(t){return t.charCodeAt(0)}))});if(r.Base64={VERSION:"2.6.4",atob:k,btoa:p,fromBase64:_,toBase64:y,utob:f,encode:y,encodeURI:function(t){return y(t,!0)},btou:b,decode:_,noConflict:function(){var t=r.Base64;return r.Base64=i,t},fromUint8Array:o,toUint8Array:g},"function"==typeof Object.defineProperty){var A=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};r.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",A((function(){return _(this)}))),Object.defineProperty(String.prototype,"toBase64",A((function(t){return y(this,t)}))),Object.defineProperty(String.prototype,"toBase64URI",A((function(){return y(this,!0)})))}}return r.Meteor&&(Base64=r.Base64),t.exports?t.exports.Base64=r.Base64:void 0===(n=function(){return r.Base64}.apply(e,[]))||(t.exports=n),{Base64:r.Base64}}(o)},9146:t=>{"use strict";function e(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}e.prototype.define=function(t,e){for(let r in t){let n=t[r].map((function(t){return t.toLowerCase()}));r=r.toLowerCase();for(let t=0;t<n.length;t++){const o=n[t];if("*"!==o[0]){if(!e&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+r+'".');this._types[o]=r}}if(e||!this._extensions[r]){const t=n[0];this._extensions[r]="*"!==t[0]?t:t.substr(1)}}},e.prototype.getType=function(t){let e=(t=String(t)).replace(/^.*[/\\]/,"").toLowerCase(),r=e.replace(/^.*\./,"").toLowerCase(),n=e.length<t.length;return(r.length<e.length-1||!n)&&this._types[r]||null},e.prototype.getExtension=function(t){return(t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1)&&this._extensions[t.toLowerCase()]||null},t.exports=e},2109:(t,e,r)=>{"use strict";let n=r(9146);t.exports=new n(r(4415))},4415:t=>{t.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/mrb-consumer+xml":["*xdf"],"application/mrb-publish+xml":["*xdf"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["*xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-error+xml":["xer"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},6470:t=>{"use strict";function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r(t,e){for(var r,n="",o=0,i=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(i===a-1||1===s);else if(i!==a-1&&2===s){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){-1===c?(n="",o=0):o=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),i=a,s=0;continue}}else if(2===n.length||1===n.length){n="",o=0,i=a,s=0;continue}e&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),o=a-i-1;i=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var n={resolve:function(){for(var t,n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s;i>=0?s=arguments[i]:(void 0===t&&(t=process.cwd()),s=t),e(s),0!==s.length&&(n=s+"/"+n,o=47===s.charCodeAt(0))}return n=r(n,!o),o?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(t){if(e(t),0===t.length)return".";var n=47===t.charCodeAt(0),o=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t="."),t.length>0&&o&&(t+="/"),n?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,r=0;r<arguments.length;++r){var o=arguments[r];e(o),o.length>0&&(void 0===t?t=o:t+="/"+o)}return void 0===t?".":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return"";if((t=n.resolve(t))===(r=n.resolve(r)))return"";for(var o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var i=t.length,s=i-o,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var c=r.length-a,l=s<c?s:c,u=-1,f=0;f<=l;++f){if(f===l){if(c>l){if(47===r.charCodeAt(a+f))return r.slice(a+f+1);if(0===f)return r.slice(a+f)}else s>l&&(47===t.charCodeAt(o+f)?u=f:0===f&&(u=0));break}var h=t.charCodeAt(o+f);if(h!==r.charCodeAt(a+f))break;47===h&&(u=f)}var p="";for(f=o+u+1;f<=i;++f)f!==i&&47!==t.charCodeAt(f)||(0===p.length?p+="..":p+="/..");return p.length>0?p+r.slice(a+u):(a+=u,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var r=t.charCodeAt(0),n=47===r,o=-1,i=!0,s=t.length-1;s>=1;--s)if(47===(r=t.charCodeAt(s))){if(!i){o=s;break}}else i=!1;return-1===o?n?"/":".":n&&1===o?"//":t.slice(0,o)},basename:function(t,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');e(t);var n,o=0,i=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var a=r.length-1,c=-1;for(n=t.length-1;n>=0;--n){var l=t.charCodeAt(n);if(47===l){if(!s){o=n+1;break}}else-1===c&&(s=!1,c=n+1),a>=0&&(l===r.charCodeAt(a)?-1==--a&&(i=n):(a=-1,i=c))}return o===i?i=c:-1===i&&(i=t.length),t.slice(o,i)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!s){o=n+1;break}}else-1===i&&(s=!1,i=n+1);return-1===i?"":t.slice(o,i)},extname:function(t){e(t);for(var r=-1,n=0,o=-1,i=!0,s=0,a=t.length-1;a>=0;--a){var c=t.charCodeAt(a);if(47!==c)-1===o&&(i=!1,o=a+1),46===c?-1===r?r=a:1!==s&&(s=1):-1!==r&&(s=-1);else if(!i){n=a+1;break}}return-1===r||-1===o||0===s||1===s&&r===o-1&&r===n+1?"":t.slice(r,o)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+"/"+n:n}(0,t)},parse:function(t){e(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return r;var n,o=t.charCodeAt(0),i=47===o;i?(r.root="/",n=1):n=0;for(var s=-1,a=0,c=-1,l=!0,u=t.length-1,f=0;u>=n;--u)if(47!==(o=t.charCodeAt(u)))-1===c&&(l=!1,c=u+1),46===o?-1===s?s=u:1!==f&&(f=1):-1!==s&&(f=-1);else if(!l){a=u+1;break}return-1===s||-1===c||0===f||1===f&&s===c-1&&s===a+1?-1!==c&&(r.base=r.name=0===a&&i?t.slice(1,c):t.slice(a,c)):(0===a&&i?(r.name=t.slice(1,s),r.base=t.slice(1,c)):(r.name=t.slice(a,s),r.base=t.slice(a,c)),r.ext=t.slice(s,c)),a>0?r.dir=t.slice(0,a-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,t.exports=n},7129:(t,e)=>{"use strict";var r=Object.prototype.hasOwnProperty;function n(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function o(t){try{return encodeURIComponent(t)}catch(t){return null}}e.stringify=function(t,e){e=e||"";var n,i,s=[];for(i in"string"!=typeof e&&(e="?"),t)if(r.call(t,i)){if((n=t[i])||null!=n&&!isNaN(n)||(n=""),i=o(i),n=o(n),null===i||null===n)continue;s.push(i+"="+n)}return s.length?e+s.join("&"):""},e.parse=function(t){for(var e,r=/([^=?#&]+)=?([^&]*)/g,o={};e=r.exec(t);){var i=n(e[1]),s=n(e[2]);null===i||null===s||i in o||(o[i]=s)}return o}},1798:(t,e,r)=>{"use strict";var n=65536,o=r(9509).Buffer,i=r.g.crypto||r.g.msCrypto;i&&i.getRandomValues?t.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var r=o.allocUnsafe(t);if(t>0)if(t>n)for(var s=0;s<t;s+=n)i.getRandomValues(r.slice(s,s+n));else i.getRandomValues(r);return"function"==typeof e?process.nextTick((function(){e(null,r)})):r}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},7418:t=>{"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},9509:(t,e,r)=>{var n=r(8764),o=n.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return o(t,e,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s),s.prototype=Object.create(o.prototype),i(o,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=o(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},1757:(t,e,r)=>{"use strict";var n,o={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};function i(t,e,r){if(4!==e.length)throw new o.exception.invalid("invalid aes block size");var n=t.b[r],i=e[0]^n[0],s=e[r?3:1]^n[1],a=e[2]^n[2];e=e[r?1:3]^n[3];var c,l,u,f,h=n.length/4-2,p=4,d=[0,0,0,0];t=(c=t.s[r])[0];var m=c[1],y=c[2],g=c[3],w=c[4];for(f=0;f<h;f++)c=t[i>>>24]^m[s>>16&255]^y[a>>8&255]^g[255&e]^n[p],l=t[s>>>24]^m[a>>16&255]^y[e>>8&255]^g[255&i]^n[p+1],u=t[a>>>24]^m[e>>16&255]^y[i>>8&255]^g[255&s]^n[p+2],e=t[e>>>24]^m[i>>16&255]^y[s>>8&255]^g[255&a]^n[p+3],p+=4,i=c,s=l,a=u;for(f=0;4>f;f++)d[r?3&-f:f]=w[i>>>24]<<24^w[s>>16&255]<<16^w[a>>8&255]<<8^w[255&e]^n[p++],c=i,i=s,s=a,a=e,e=c;return d}function s(t,e){var r,n,o,i=t.F,s=t.b,a=i[0],c=i[1],l=i[2],u=i[3],f=i[4],h=i[5],p=i[6],d=i[7];for(r=0;64>r;r++)16>r?n=e[r]:(n=e[r+1&15],o=e[r+14&15],n=e[15&r]=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+e[15&r]+e[r+9&15]|0),n=n+d+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(p^f&(h^p))+s[r],d=p,p=h,h=f,f=u+n|0,u=l,l=c,a=n+((c=a)&l^u&(c^l))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;i[0]=i[0]+a|0,i[1]=i[1]+c|0,i[2]=i[2]+l|0,i[3]=i[3]+u|0,i[4]=i[4]+f|0,i[5]=i[5]+h|0,i[6]=i[6]+p|0,i[7]=i[7]+d|0}function a(t,e){var r,n=o.random.K[t],i=[];for(r in n)n.hasOwnProperty(r)&&i.push(n[r]);for(r=0;r<i.length;r++)i[r](e)}function c(t,e){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?t.addEntropy(window.performance.now(),e,"loadtime"):t.addEntropy((new Date).valueOf(),e,"loadtime")}function l(t){t.b=u(t).concat(u(t)),t.L=new o.cipher.aes(t.b)}function u(t){for(var e=0;4>e&&(t.h[e]=t.h[e]+1|0,!t.h[e]);e++);return t.L.encrypt(t.h)}function f(t,e){return function(){e.apply(t,arguments)}}o.cipher.aes=function(t){this.s[0][0][0]||this.O();var e,r,n,i,s=this.s[0][4],a=this.s[1],c=1;if(4!==(e=t.length)&&6!==e&&8!==e)throw new o.exception.invalid("invalid aes key size");for(this.b=[n=t.slice(0),i=[]],t=e;t<4*e+28;t++)r=n[t-1],(0==t%e||8===e&&4==t%e)&&(r=s[r>>>24]<<24^s[r>>16&255]<<16^s[r>>8&255]<<8^s[255&r],0==t%e&&(r=r<<8^r>>>24^c<<24,c=c<<1^283*(c>>7))),n[t]=n[t-e]^r;for(e=0;t;e++,t--)r=n[3&e?t:t-4],i[e]=4>=t||4>e?r:a[0][s[r>>>24]]^a[1][s[r>>16&255]]^a[2][s[r>>8&255]]^a[3][s[255&r]]},o.cipher.aes.prototype={encrypt:function(t){return i(this,t,0)},decrypt:function(t){return i(this,t,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var t,e,r,n,o,i,s,a=this.s[0],c=this.s[1],l=a[4],u=c[4],f=[],h=[];for(t=0;256>t;t++)h[(f[t]=t<<1^283*(t>>7))^t]=t;for(e=r=0;!l[e];e^=n||1,r=h[r]||1)for(i=(i=r^r<<1^r<<2^r<<3^r<<4)>>8^255&i^99,l[e]=i,u[i]=e,s=16843009*(o=f[t=f[n=f[e]]])^65537*t^257*n^16843008*e,o=257*f[i]^16843008*i,t=0;4>t;t++)a[t][e]=o=o<<24^o>>>8,c[t][i]=s=s<<24^s>>>8;for(t=0;5>t;t++)a[t]=a[t].slice(0),c[t]=c[t].slice(0)}},o.bitArray={bitSlice:function(t,e,r){return t=o.bitArray.$(t.slice(e/32),32-(31&e)).slice(1),void 0===r?t:o.bitArray.clamp(t,r-e)},extract:function(t,e,r){var n=Math.floor(-e-r&31);return(-32&(e+r-1^e)?t[e/32|0]<<32-n^t[e/32+1|0]>>>n:t[e/32|0]>>>n)&(1<<r)-1},concat:function(t,e){if(0===t.length||0===e.length)return t.concat(e);var r=t[t.length-1],n=o.bitArray.getPartial(r);return 32===n?t.concat(e):o.bitArray.$(e,n,0|r,t.slice(0,t.length-1))},bitLength:function(t){var e=t.length;return 0===e?0:32*(e-1)+o.bitArray.getPartial(t[e-1])},clamp:function(t,e){if(32*t.length<e)return t;var r=(t=t.slice(0,Math.ceil(e/32))).length;return e&=31,0<r&&e&&(t[r-1]=o.bitArray.partial(e,t[r-1]&2147483648>>e-1,1)),t},partial:function(t,e,r){return 32===t?e:(r?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,e){if(o.bitArray.bitLength(t)!==o.bitArray.bitLength(e))return!1;var r,n=0;for(r=0;r<t.length;r++)n|=t[r]^e[r];return 0===n},$:function(t,e,r,n){var i;for(i=0,void 0===n&&(n=[]);32<=e;e-=32)n.push(r),r=0;if(0===e)return n.concat(t);for(i=0;i<t.length;i++)n.push(r|t[i]>>>e),r=t[i]<<32-e;return i=t.length?t[t.length-1]:0,t=o.bitArray.getPartial(i),n.push(o.bitArray.partial(e+t&31,32<e+t?r:n.pop(),1)),n},i:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]},byteswapM:function(t){var e,r;for(e=0;e<t.length;++e)r=t[e],t[e]=r>>>24|r>>>8&65280|(65280&r)<<8|r<<24;return t}},o.codec.utf8String={fromBits:function(t){var e,r,n="",i=o.bitArray.bitLength(t);for(e=0;e<i/8;e++)0==(3&e)&&(r=t[e/4]),n+=String.fromCharCode(r>>>8>>>8>>>8),r<<=8;return decodeURIComponent(escape(n))},toBits:function(t){t=unescape(encodeURIComponent(t));var e,r=[],n=0;for(e=0;e<t.length;e++)n=n<<8|t.charCodeAt(e),3==(3&e)&&(r.push(n),n=0);return 3&e&&r.push(o.bitArray.partial(8*(3&e),n)),r}},o.codec.hex={fromBits:function(t){var e,r="";for(e=0;e<t.length;e++)r+=(0xf00000000000+(0|t[e])).toString(16).substr(4);return r.substr(0,o.bitArray.bitLength(t)/4)},toBits:function(t){var e,r,n=[];for(r=(t=t.replace(/\s|0x/g,"")).length,t+="00000000",e=0;e<t.length;e+=8)n.push(0^parseInt(t.substr(e,8),16));return o.bitArray.clamp(n,4*r)}},o.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(t,e,r){var n=o.codec.base32.BASE,i=o.codec.base32.REMAINING,s="",a=0,c=o.codec.base32.B,l=0,u=o.bitArray.bitLength(t);for(r&&(c=o.codec.base32.X),r=0;s.length*n<u;)s+=c.charAt((l^t[r]>>>a)>>>i),a<n?(l=t[r]<<n-a,a+=i,r++):(l<<=n,a-=n);for(;7&s.length&&!e;)s+="=";return s},toBits:function(t,e){t=t.replace(/\s|=/g,"").toUpperCase();var r,n,i=o.codec.base32.BITS,s=o.codec.base32.BASE,a=o.codec.base32.REMAINING,c=[],l=0,u=o.codec.base32.B,f=0,h="base32";for(e&&(u=o.codec.base32.X,h="base32hex"),r=0;r<t.length;r++){if(0>(n=u.indexOf(t.charAt(r)))){if(!e)try{return o.codec.base32hex.toBits(t)}catch(t){}throw new o.exception.invalid("this isn't "+h+"!")}l>a?(l-=a,c.push(f^n>>>l),f=n<<i-l):f^=n<<i-(l+=s)}return 56&l&&c.push(o.bitArray.partial(56&l,f,1)),c}},o.codec.base32hex={fromBits:function(t,e){return o.codec.base32.fromBits(t,e,1)},toBits:function(t){return o.codec.base32.toBits(t,1)}},o.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,e,r){var n="",i=0,s=o.codec.base64.B,a=0,c=o.bitArray.bitLength(t);for(r&&(s=s.substr(0,62)+"-_"),r=0;6*n.length<c;)n+=s.charAt((a^t[r]>>>i)>>>26),6>i?(a=t[r]<<6-i,i+=26,r++):(a<<=6,i-=6);for(;3&n.length&&!e;)n+="=";return n},toBits:function(t,e){t=t.replace(/\s|=/g,"");var r,n,i=[],s=0,a=o.codec.base64.B,c=0;for(e&&(a=a.substr(0,62)+"-_"),r=0;r<t.length;r++){if(0>(n=a.indexOf(t.charAt(r))))throw new o.exception.invalid("this isn't base64!");26<s?(s-=26,i.push(c^n>>>s),c=n<<32-s):c^=n<<32-(s+=6)}return 56&s&&i.push(o.bitArray.partial(56&s,c,1)),i}},o.codec.base64url={fromBits:function(t){return o.codec.base64.fromBits(t,1,1)},toBits:function(t){return o.codec.base64.toBits(t,1)}},o.hash.sha256=function(t){this.b[0]||this.O(),t?(this.F=t.F.slice(0),this.A=t.A.slice(0),this.l=t.l):this.reset()},o.hash.sha256.hash=function(t){return(new o.hash.sha256).update(t).finalize()},o.hash.sha256.prototype={blockSize:512,reset:function(){return this.F=this.Y.slice(0),this.A=[],this.l=0,this},update:function(t){"string"==typeof t&&(t=o.codec.utf8String.toBits(t));var e,r=this.A=o.bitArray.concat(this.A,t);if(e=this.l,9007199254740991<(t=this.l=e+o.bitArray.bitLength(t)))throw new o.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var n=new Uint32Array(r),i=0;for(e=512+e-(512+e&511);e<=t;e+=512)s(this,n.subarray(16*i,16*(i+1))),i+=1;r.splice(0,16*i)}else for(e=512+e-(512+e&511);e<=t;e+=512)s(this,r.splice(0,16));return this},finalize:function(){var t,e=this.A,r=this.F;for(t=(e=o.bitArray.concat(e,[o.bitArray.partial(1,1)])).length+2;15&t;t++)e.push(0);for(e.push(Math.floor(this.l/4294967296)),e.push(0|this.l);e.length;)s(this,e.splice(0,16));return this.reset(),r},Y:[],b:[],O:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}for(var e,r,n=0,o=2;64>n;o++){for(r=!0,e=2;e*e<=o;e++)if(0==o%e){r=!1;break}r&&(8>n&&(this.Y[n]=t(Math.pow(o,.5))),this.b[n]=t(Math.pow(o,1/3)),n++)}}},o.mode.ccm={name:"ccm",G:[],listenProgress:function(t){o.mode.ccm.G.push(t)},unListenProgress:function(t){-1<(t=o.mode.ccm.G.indexOf(t))&&o.mode.ccm.G.splice(t,1)},fa:function(t){var e,r=o.mode.ccm.G.slice();for(e=0;e<r.length;e+=1)r[e](t)},encrypt:function(t,e,r,n,i){var s,a=e.slice(0),c=o.bitArray,l=c.bitLength(r)/8,u=c.bitLength(a)/8;if(i=i||64,n=n||[],7>l)throw new o.exception.invalid("ccm: iv must be at least 7 bytes");for(s=2;4>s&&u>>>8*s;s++);return s<15-l&&(s=15-l),r=c.clamp(r,8*(15-s)),e=o.mode.ccm.V(t,e,r,n,i,s),a=o.mode.ccm.C(t,a,r,e,i,s),c.concat(a.data,a.tag)},decrypt:function(t,e,r,n,i){i=i||64,n=n||[];var s=o.bitArray,a=s.bitLength(r)/8,c=s.bitLength(e),l=s.clamp(e,c-i),u=s.bitSlice(e,c-i);if(c=(c-i)/8,7>a)throw new o.exception.invalid("ccm: iv must be at least 7 bytes");for(e=2;4>e&&c>>>8*e;e++);if(e<15-a&&(e=15-a),r=s.clamp(r,8*(15-e)),l=o.mode.ccm.C(t,l,r,u,i,e),t=o.mode.ccm.V(t,l.data,r,n,i,e),!s.equal(l.tag,t))throw new o.exception.corrupt("ccm: tag doesn't match");return l.data},na:function(t,e,r,n,i,s){var a=[],c=o.bitArray,l=c.i;if(n=[c.partial(8,(e.length?64:0)|n-2<<2|s-1)],(n=c.concat(n,r))[3]|=i,n=t.encrypt(n),e.length)for(65279>=(r=c.bitLength(e)/8)?a=[c.partial(16,r)]:4294967295>=r&&(a=c.concat([c.partial(16,65534)],[r])),a=c.concat(a,e),e=0;e<a.length;e+=4)n=t.encrypt(l(n,a.slice(e,e+4).concat([0,0,0])));return n},V:function(t,e,r,n,i,s){var a=o.bitArray,c=a.i;if((i/=8)%2||4>i||16<i)throw new o.exception.invalid("ccm: invalid tag length");if(4294967295<n.length||4294967295<e.length)throw new o.exception.bug("ccm: can't deal with 4GiB or more data");for(r=o.mode.ccm.na(t,n,r,i,a.bitLength(e)/8,s),n=0;n<e.length;n+=4)r=t.encrypt(c(r,e.slice(n,n+4).concat([0,0,0])));return a.clamp(r,8*i)},C:function(t,e,r,n,i,s){var a,c=o.bitArray;a=c.i;var l=e.length,u=c.bitLength(e),f=l/50,h=f;if(r=c.concat([c.partial(8,s-1)],r).concat([0,0,0]).slice(0,4),n=c.bitSlice(a(n,t.encrypt(r)),0,i),!l)return{tag:n,data:[]};for(a=0;a<l;a+=4)a>f&&(o.mode.ccm.fa(a/l),f+=h),r[3]++,i=t.encrypt(r),e[a]^=i[0],e[a+1]^=i[1],e[a+2]^=i[2],e[a+3]^=i[3];return{tag:n,data:c.clamp(e,u)}}},o.mode.ocb2={name:"ocb2",encrypt:function(t,e,r,n,i,s){if(128!==o.bitArray.bitLength(r))throw new o.exception.invalid("ocb iv must be 128 bits");var a,c=o.mode.ocb2.S,l=o.bitArray,u=l.i,f=[0,0,0,0];r=c(t.encrypt(r));var h,p=[];for(n=n||[],i=i||64,a=0;a+4<e.length;a+=4)f=u(f,h=e.slice(a,a+4)),p=p.concat(u(r,t.encrypt(u(r,h)))),r=c(r);return h=e.slice(a),e=l.bitLength(h),a=t.encrypt(u(r,[0,0,0,e])),h=l.clamp(u(h.concat([0,0,0]),a),e),f=u(f,u(h.concat([0,0,0]),a)),f=t.encrypt(u(f,u(r,c(r)))),n.length&&(f=u(f,s?n:o.mode.ocb2.pmac(t,n))),p.concat(l.concat(h,l.clamp(f,i)))},decrypt:function(t,e,r,n,i,s){if(128!==o.bitArray.bitLength(r))throw new o.exception.invalid("ocb iv must be 128 bits");i=i||64;var a,c,l=o.mode.ocb2.S,u=o.bitArray,f=u.i,h=[0,0,0,0],p=l(t.encrypt(r)),d=o.bitArray.bitLength(e)-i,m=[];for(n=n||[],r=0;r+4<d/32;r+=4)a=f(p,t.decrypt(f(p,e.slice(r,r+4)))),h=f(h,a),m=m.concat(a),p=l(p);if(c=d-32*r,a=t.encrypt(f(p,[0,0,0,c])),a=f(a,u.clamp(e.slice(r),c).concat([0,0,0])),h=f(h,a),h=t.encrypt(f(h,f(p,l(p)))),n.length&&(h=f(h,s?n:o.mode.ocb2.pmac(t,n))),!u.equal(u.clamp(h,i),u.bitSlice(e,d)))throw new o.exception.corrupt("ocb: tag doesn't match");return m.concat(u.clamp(a,c))},pmac:function(t,e){var r,n=o.mode.ocb2.S,i=o.bitArray,s=i.i,a=[0,0,0,0],c=s(c=t.encrypt([0,0,0,0]),n(n(c)));for(r=0;r+4<e.length;r+=4)c=n(c),a=s(a,t.encrypt(s(c,e.slice(r,r+4))));return r=e.slice(r),128>i.bitLength(r)&&(c=s(c,n(c)),r=i.concat(r,[-2147483648,0,0,0])),a=s(a,r),t.encrypt(s(n(s(c,n(c))),a))},S:function(t){return[t[0]<<1^t[1]>>>31,t[1]<<1^t[2]>>>31,t[2]<<1^t[3]>>>31,t[3]<<1^135*(t[0]>>>31)]}},o.mode.gcm={name:"gcm",encrypt:function(t,e,r,n,i){var s=e.slice(0);return e=o.bitArray,n=n||[],t=o.mode.gcm.C(!0,t,s,n,r,i||128),e.concat(t.data,t.tag)},decrypt:function(t,e,r,n,i){var s=e.slice(0),a=o.bitArray,c=a.bitLength(s);if(n=n||[],(i=i||128)<=c?(e=a.bitSlice(s,c-i),s=a.bitSlice(s,0,c-i)):(e=s,s=[]),t=o.mode.gcm.C(!1,t,s,n,r,i),!a.equal(t.tag,e))throw new o.exception.corrupt("gcm: tag doesn't match");return t.data},ka:function(t,e){var r,n,i,s,a,c=o.bitArray.i;for(i=[0,0,0,0],s=e.slice(0),r=0;128>r;r++){for((n=0!=(t[Math.floor(r/32)]&1<<31-r%32))&&(i=c(i,s)),a=0!=(1&s[3]),n=3;0<n;n--)s[n]=s[n]>>>1|(1&s[n-1])<<31;s[0]>>>=1,a&&(s[0]^=-520093696)}return i},j:function(t,e,r){var n,i=r.length;for(e=e.slice(0),n=0;n<i;n+=4)e[0]^=4294967295&r[n],e[1]^=4294967295&r[n+1],e[2]^=4294967295&r[n+2],e[3]^=4294967295&r[n+3],e=o.mode.gcm.ka(e,t);return e},C:function(t,e,r,n,i,s){var a,c,l,u,f,h,p,d,m=o.bitArray;for(h=r.length,p=m.bitLength(r),d=m.bitLength(n),c=m.bitLength(i),a=e.encrypt([0,0,0,0]),96===c?(i=i.slice(0),i=m.concat(i,[1])):(i=o.mode.gcm.j(a,[0,0,0,0],i),i=o.mode.gcm.j(a,i,[0,0,Math.floor(c/4294967296),4294967295&c])),c=o.mode.gcm.j(a,[0,0,0,0],n),f=i.slice(0),n=c.slice(0),t||(n=o.mode.gcm.j(a,c,r)),u=0;u<h;u+=4)f[3]++,l=e.encrypt(f),r[u]^=l[0],r[u+1]^=l[1],r[u+2]^=l[2],r[u+3]^=l[3];return r=m.clamp(r,p),t&&(n=o.mode.gcm.j(a,c,r)),t=[Math.floor(d/4294967296),4294967295&d,Math.floor(p/4294967296),4294967295&p],n=o.mode.gcm.j(a,n,t),l=e.encrypt(i),n[0]^=l[0],n[1]^=l[1],n[2]^=l[2],n[3]^=l[3],{tag:m.bitSlice(n,0,s),data:r}}},o.misc.hmac=function(t,e){this.W=e=e||o.hash.sha256;var r,n=[[],[]],i=e.prototype.blockSize/32;for(this.w=[new e,new e],t.length>i&&(t=e.hash(t)),r=0;r<i;r++)n[0][r]=909522486^t[r],n[1][r]=1549556828^t[r];this.w[0].update(n[0]),this.w[1].update(n[1]),this.R=new e(this.w[0])},o.misc.hmac.prototype.encrypt=o.misc.hmac.prototype.mac=function(t){if(this.aa)throw new o.exception.invalid("encrypt on already updated hmac called!");return this.update(t),this.digest(t)},o.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]),this.aa=!1},o.misc.hmac.prototype.update=function(t){this.aa=!0,this.R.update(t)},o.misc.hmac.prototype.digest=function(){var t=this.R.finalize();return t=new this.W(this.w[1]).update(t).finalize(),this.reset(),t},o.misc.pbkdf2=function(t,e,r,n,i){if(r=r||1e4,0>n||0>r)throw new o.exception.invalid("invalid params to pbkdf2");"string"==typeof t&&(t=o.codec.utf8String.toBits(t)),"string"==typeof e&&(e=o.codec.utf8String.toBits(e)),t=new(i=i||o.misc.hmac)(t);var s,a,c,l,u=[],f=o.bitArray;for(l=1;32*u.length<(n||1);l++){for(i=s=t.encrypt(f.concat(e,[l])),a=1;a<r;a++)for(s=t.encrypt(s),c=0;c<s.length;c++)i[c]^=s[c];u=u.concat(i)}return n&&(u=f.clamp(u,n)),u},o.prng=function(t){this.c=[new o.hash.sha256],this.m=[0],this.P=0,this.H={},this.N=0,this.U={},this.Z=this.f=this.o=this.ha=0,this.b=[0,0,0,0,0,0,0,0],this.h=[0,0,0,0],this.L=void 0,this.M=t,this.D=!1,this.K={progress:{},seeded:{}},this.u=this.ga=0,this.I=1,this.J=2,this.ca=65536,this.T=[0,48,64,96,128,192,256,384,512,768,1024],this.da=3e4,this.ba=80},o.prng.prototype={randomWords:function(t,e){var r,n,i=[];if((r=this.isReady(e))===this.u)throw new o.exception.notReady("generator isn't seeded");if(r&this.J){r=!(r&this.I),n=[];var s,a=0;for(this.Z=n[0]=(new Date).valueOf()+this.da,s=0;16>s;s++)n.push(4294967296*Math.random()|0);for(s=0;s<this.c.length&&(n=n.concat(this.c[s].finalize()),a+=this.m[s],this.m[s]=0,r||!(this.P&1<<s));s++);for(this.P>=1<<this.c.length&&(this.c.push(new o.hash.sha256),this.m.push(0)),this.f-=a,a>this.o&&(this.o=a),this.P++,this.b=o.hash.sha256.hash(this.b.concat(n)),this.L=new o.cipher.aes(this.b),r=0;4>r&&(this.h[r]=this.h[r]+1|0,!this.h[r]);r++);}for(r=0;r<t;r+=4)0==(r+1)%this.ca&&l(this),n=u(this),i.push(n[0],n[1],n[2],n[3]);return l(this),i.slice(0,t)},setDefaultParanoia:function(t,e){if(0===t&&"Setting paranoia=0 will ruin your security; use it only for testing"!==e)throw new o.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=t},addEntropy:function(t,e,r){r=r||"user";var n,i,s=(new Date).valueOf(),c=this.H[r],l=this.isReady(),u=0;switch(void 0===(n=this.U[r])&&(n=this.U[r]=this.ha++),void 0===c&&(c=this.H[r]=0),this.H[r]=(this.H[r]+1)%this.c.length,typeof t){case"number":void 0===e&&(e=1),this.c[c].update([n,this.N++,1,e,s,1,0|t]);break;case"object":if("[object Uint32Array]"===(r=Object.prototype.toString.call(t))){for(i=[],r=0;r<t.length;r++)i.push(t[r]);t=i}else for("[object Array]"!==r&&(u=1),r=0;r<t.length&&!u;r++)"number"!=typeof t[r]&&(u=1);if(!u){if(void 0===e)for(r=e=0;r<t.length;r++)for(i=t[r];0<i;)e++,i>>>=1;this.c[c].update([n,this.N++,2,e,s,t.length].concat(t))}break;case"string":void 0===e&&(e=t.length),this.c[c].update([n,this.N++,3,e,s,t.length]),this.c[c].update(t);break;default:u=1}if(u)throw new o.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[c]+=e,this.f+=e,l===this.u&&(this.isReady()!==this.u&&a("seeded",Math.max(this.o,this.f)),a("progress",this.getProgress()))},isReady:function(t){return t=this.T[void 0!==t?t:this.M],this.o&&this.o>=t?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=t?this.J|this.u:this.u},getProgress:function(t){return t=this.T[t||this.M],this.o>=t||this.f>t?1:this.f/t},startCollectors:function(){if(!this.D){if(this.a={loadTimeCollector:f(this,this.ma),mouseCollector:f(this,this.oa),keyboardCollector:f(this,this.la),accelerometerCollector:f(this,this.ea),touchCollector:f(this,this.qa)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new o.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(t,e){this.K[t][this.ga++]=e},removeEventListener:function(t,e){var r,n,o=this.K[t],i=[];for(n in o)o.hasOwnProperty(n)&&o[n]===e&&i.push(n);for(r=0;r<i.length;r++)delete o[n=i[r]]},la:function(){c(this,1)},oa:function(t){var e,r;try{e=t.x||t.clientX||t.offsetX||0,r=t.y||t.clientY||t.offsetY||0}catch(t){r=e=0}0!=e&&0!=r&&this.addEntropy([e,r],2,"mouse"),c(this,0)},qa:function(t){t=t.touches[0]||t.changedTouches[0],this.addEntropy([t.pageX||t.clientX,t.pageY||t.clientY],1,"touch"),c(this,0)},ma:function(){c(this,2)},ea:function(t){if(t=t.accelerationIncludingGravity.x||t.accelerationIncludingGravity.y||t.accelerationIncludingGravity.z,window.orientation){var e=window.orientation;"number"==typeof e&&this.addEntropy(e,1,"accelerometer")}t&&this.addEntropy(t,2,"accelerometer"),c(this,0)}},o.random=new o.prng(6);t:try{var h,p,d,m;if(m=t.exports){var y;try{y=r(Object(function(){var t=new Error("Cannot find module 'crypto'");throw t.code="MODULE_NOT_FOUND",t}()))}catch(t){y=null}m=p=y}if(m&&p.randomBytes)h=p.randomBytes(128),h=new Uint32Array(new Uint8Array(h).buffer),o.random.addEntropy(h,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(d=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(d);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break t;window.msCrypto.getRandomValues(d)}o.random.addEntropy(d,1024,"crypto['getRandomValues']")}}catch(t){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(t))}o.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(t,e,r,n){r=r||{},n=n||{};var i,s=o.json,a=s.g({iv:o.random.randomWords(4,0)},s.defaults);if(s.g(a,r),r=a.adata,"string"==typeof a.salt&&(a.salt=o.codec.base64.toBits(a.salt)),"string"==typeof a.iv&&(a.iv=o.codec.base64.toBits(a.iv)),!o.mode[a.mode]||!o.cipher[a.cipher]||"string"==typeof t&&100>=a.iter||64!==a.ts&&96!==a.ts&&128!==a.ts||128!==a.ks&&192!==a.ks&&256!==a.ks||2>a.iv.length||4<a.iv.length)throw new o.exception.invalid("json encrypt: invalid parameters");return"string"==typeof t?(t=(i=o.misc.cachedPbkdf2(t,a)).key.slice(0,a.ks/32),a.salt=i.salt):o.ecc&&t instanceof o.ecc.elGamal.publicKey&&(i=t.kem(),a.kemtag=i.tag,t=i.key.slice(0,a.ks/32)),"string"==typeof e&&(e=o.codec.utf8String.toBits(e)),"string"==typeof r&&(a.adata=r=o.codec.utf8String.toBits(r)),i=new o.cipher[a.cipher](t),s.g(n,a),n.key=t,a.ct="ccm"===a.mode&&o.arrayBuffer&&o.arrayBuffer.ccm&&e instanceof ArrayBuffer?o.arrayBuffer.ccm.encrypt(i,e,a.iv,r,a.ts):o.mode[a.mode].encrypt(i,e,a.iv,r,a.ts),a},encrypt:function(t,e,r,n){var i=o.json,s=i.ja.apply(i,arguments);return i.encode(s)},ia:function(t,e,r,n){r=r||{},n=n||{};var i,s,a=o.json;if(i=(e=a.g(a.g(a.g({},a.defaults),e),r,!0)).adata,"string"==typeof e.salt&&(e.salt=o.codec.base64.toBits(e.salt)),"string"==typeof e.iv&&(e.iv=o.codec.base64.toBits(e.iv)),!o.mode[e.mode]||!o.cipher[e.cipher]||"string"==typeof t&&100>=e.iter||64!==e.ts&&96!==e.ts&&128!==e.ts||128!==e.ks&&192!==e.ks&&256!==e.ks||!e.iv||2>e.iv.length||4<e.iv.length)throw new o.exception.invalid("json decrypt: invalid parameters");return"string"==typeof t?(t=(s=o.misc.cachedPbkdf2(t,e)).key.slice(0,e.ks/32),e.salt=s.salt):o.ecc&&t instanceof o.ecc.elGamal.secretKey&&(t=t.unkem(o.codec.base64.toBits(e.kemtag)).slice(0,e.ks/32)),"string"==typeof i&&(i=o.codec.utf8String.toBits(i)),s=new o.cipher[e.cipher](t),i="ccm"===e.mode&&o.arrayBuffer&&o.arrayBuffer.ccm&&e.ct instanceof ArrayBuffer?o.arrayBuffer.ccm.decrypt(s,e.ct,e.iv,e.tag,i,e.ts):o.mode[e.mode].decrypt(s,e.ct,e.iv,i,e.ts),a.g(n,e),n.key=t,1===r.raw?i:o.codec.utf8String.fromBits(i)},decrypt:function(t,e,r,n){var i=o.json;return i.ia(t,i.decode(e),r,n)},encode:function(t){var e,r="{",n="";for(e in t)if(t.hasOwnProperty(e)){if(!e.match(/^[a-z0-9]+$/i))throw new o.exception.invalid("json encode: invalid property name");switch(r+=n+'"'+e+'":',n=",",typeof t[e]){case"number":case"boolean":r+=t[e];break;case"string":r+='"'+escape(t[e])+'"';break;case"object":r+='"'+o.codec.base64.fromBits(t[e],0)+'"';break;default:throw new o.exception.bug("json encode: unsupported type")}}return r+"}"},decode:function(t){if(!(t=t.replace(/\s/g,"")).match(/^\{.*\}$/))throw new o.exception.invalid("json decode: this isn't json!");t=t.replace(/^\{|\}$/g,"").split(/,/);var e,r,n={};for(e=0;e<t.length;e++){if(!(r=t[e].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new o.exception.invalid("json decode: this isn't json!");null!=r[3]?n[r[2]]=parseInt(r[3],10):null!=r[4]?n[r[2]]=r[2].match(/^(ct|adata|salt|iv)$/)?o.codec.base64.toBits(r[4]):unescape(r[4]):null!=r[5]&&(n[r[2]]="true"===r[5])}return n},g:function(t,e,r){if(void 0===t&&(t={}),void 0===e)return t;for(var n in e)if(e.hasOwnProperty(n)){if(r&&void 0!==t[n]&&t[n]!==e[n])throw new o.exception.invalid("required parameter overridden");t[n]=e[n]}return t},sa:function(t,e){var r,n={};for(r in t)t.hasOwnProperty(r)&&t[r]!==e[r]&&(n[r]=t[r]);return n},ra:function(t,e){var r,n={};for(r=0;r<e.length;r++)void 0!==t[e[r]]&&(n[e[r]]=t[e[r]]);return n}},o.encrypt=o.json.encrypt,o.decrypt=o.json.decrypt,o.misc.pa={},o.misc.cachedPbkdf2=function(t,e){var r,n=o.misc.pa;return r=(e=e||{}).iter||1e3,(r=(n=n[t]=n[t]||{})[r]=n[r]||{firstSalt:e.salt&&e.salt.length?e.salt.slice(0):o.random.randomWords(2,0)})[n=void 0===e.salt?r.firstSalt:e.salt]=r[n]||o.misc.pbkdf2(t,n,e.iter),{key:r[n].slice(0),salt:n.slice(0)}},t.exports&&(t.exports=o),void 0===(n=function(){return o}.apply(e,[]))||(t.exports=n)},1433:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]});e.__esModule=!0,e.defaultHandshakeAttemptsInterval=e.defaultHandshakeMaxAttempts=e.monitorWindowError=e.errorWindowClosed=e.dispatchedErrorEvent=e.trimSuffix=e.removeAdjacentChars=e.ensureUrl=e.createIframe=e.createFullScreenIframe=e.PermWrite=e.PermRead=e.PermLegacySkyID=e.PermHidden=e.PermDiscoverable=e.permTypeToString=e.permCategoryToString=e.PermType=e.PermCategory=e.Permission=e.sanitizePath=e.getParentPath=e.getPathDomain=void 0;var o=r(1853);n(e,o,"getPathDomain"),n(e,o,"getParentPath"),n(e,o,"sanitizePath");var i=r(7178);n(e,i,"Permission"),n(e,i,"PermCategory"),n(e,i,"PermType"),n(e,i,"permCategoryToString"),n(e,i,"permTypeToString"),n(e,i,"PermDiscoverable"),n(e,i,"PermHidden"),n(e,i,"PermLegacySkyID"),n(e,i,"PermRead"),n(e,i,"PermWrite");var s=r(7144);n(e,s,"createFullScreenIframe"),n(e,s,"createIframe"),n(e,s,"ensureUrl"),n(e,s,"removeAdjacentChars"),n(e,s,"trimSuffix");var a=r(9616);n(e,a,"dispatchedErrorEvent"),n(e,a,"errorWindowClosed"),n(e,a,"monitorWindowError"),e.defaultHandshakeMaxAttempts=150,e.defaultHandshakeAttemptsInterval=100},1853:(t,e,r)=>{"use strict";e.__esModule=!0,e.sanitizePath=e.getParentPath=e.getPathDomain=void 0;var n=r(7144);function o(t){return t=n.trimSuffix(t,"/"),n.removeAdjacentChars(t,"/")}e.getPathDomain=function(t){return t.split("/")[0]},e.getParentPath=function(t){var e=(t=o(t)).split("/");return e.length<=1?null:(e.pop(),t=e.join("/"))},e.sanitizePath=o},7178:(t,e)=>{"use strict";e.__esModule=!0,e.permTypeToString=e.permCategoryToString=e.PermType=e.PermWrite=e.PermRead=e.PermCategory=e.PermLegacySkyID=e.PermHidden=e.PermDiscoverable=e.Permission=void 0;var r,n;e.Permission=function(t,e,o,i){if(this.requestor=t,this.path=e,this.category=o,this.permType=i,"number"!=typeof o||!(o in r))throw new Error("Invalid 'category' enum value "+o);if("number"!=typeof i||!(i in n))throw new Error("Invalid 'permType' enum value "+i)},e.PermDiscoverable=1,e.PermHidden=2,e.PermLegacySkyID=3,function(t){t[t.Discoverable=e.PermDiscoverable]="Discoverable",t[t.Hidden=e.PermHidden]="Hidden",t[t.LegacySkyID=e.PermLegacySkyID]="LegacySkyID"}(r=e.PermCategory||(e.PermCategory={})),e.PermRead=4,e.PermWrite=5,function(t){t[t.Read=e.PermRead]="Read",t[t.Write=e.PermWrite]="Write"}(n=e.PermType||(e.PermType={})),e.permCategoryToString=function(t){if(t===r.Discoverable)return"Discoverable";if(t===r.Hidden)return"Hidden";if(t===r.LegacySkyID)return"LegacySkyID";throw new Error("Invalid permission category "+t)},e.permTypeToString=function(t){if(t===n.Read)return"Read";if(t===n.Write)return"Write";throw new Error("Invalid permission type "+t)}},7144:(t,e)=>{"use strict";function r(t){return r="https://",(e=t).startsWith(r)||(e=""+r+e),e;var e,r}e.__esModule=!0,e.trimSuffix=e.removeAdjacentChars=e.ensureUrl=e.createFullScreenIframe=e.createIframe=void 0,e.createIframe=function(t,e){t=r(t);var n=document.createElement("iframe");return n.src=t,n.name=e,n.style.display="none",document.body.appendChild(n),n},e.createFullScreenIframe=function(t,e){t=r(t);var n=document.createElement("iframe");return n.src=t,n.name=e,n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.bottom="0",n.style.right="0",n.style.width="100%",n.style.height="100%",n.style.border="none",n.style.margin="0",n.style.padding="0",n.style.overflow="hidden",n.style.zIndex="999999",document.body.appendChild(n),n},e.ensureUrl=r,e.removeAdjacentChars=function(t,e){for(var r=Array.from(t),n=0;n<r.length-1;)r[n]===e&&r[n+1]===e?r.splice(n,1):n++;return r.join("")},e.trimSuffix=function(t,e,r){for(;t.endsWith(e)&&!(void 0!==r&&r<=0);)t=t.substring(0,t.length-e.length),r&&(r-=1);return t}},9616:(t,e)=>{"use strict";e.__esModule=!0,e.monitorWindowError=e.PromiseController=e.dispatchedErrorEvent=e.errorWindowClosed=void 0,e.errorWindowClosed="window-closed",e.dispatchedErrorEvent="catchError";var r=function(){function t(){}return t.prototype.cleanup=function(){},t}();e.PromiseController=r,e.monitorWindowError=function(){var t=new r,n=new AbortController;return{promise:new Promise((function(r,o){var i=function(t){window.removeEventListener(e.dispatchedErrorEvent,i);var r=t.detail;o(r)};window.addEventListener(e.dispatchedErrorEvent,i,{signal:n.signal}),t.cleanup=function(){n.abort(),r()}})),controller:t}}},489:t=>{t.exports=function(t){if(t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray)return new DataView(t.buffer,t.byteOffset,t.byteLength);if(t instanceof ArrayBuffer)return new DataView(t);throw new TypeError("Expected `data` to be an ArrayBuffer, Buffer, Int8Array, Uint8Array or Uint8ClampedArray")}},780:(t,e,r)=>{!function(t){"use strict";var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},n=function(){throw new Error("no PRNG")},o=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=e(),a=e([1]),c=e([56129,1]),l=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function m(t,e,r,n,o){var i,s=0;for(i=0;i<o;i++)s|=t[e+i]^r[n+i];return(1&s-1>>>8)-1}function y(t,e,r,n){return m(t,e,r,n,16)}function g(t,e,r,n){return m(t,e,r,n,32)}function w(t,e,r,n){!function(t,e,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,w=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,x=i,E=s,k=a,U=c,_=l,A=u,S=f,P=h,R=p,O=d,B=m,C=y,j=g,L=w,I=v,T=b,D=0;D<20;D+=2)x^=(o=(j^=(o=(R^=(o=(_^=(o=x+j|0)<<7|o>>>25)+x|0)<<9|o>>>23)+_|0)<<13|o>>>19)+R|0)<<18|o>>>14,A^=(o=(E^=(o=(L^=(o=(O^=(o=A+E|0)<<7|o>>>25)+A|0)<<9|o>>>23)+O|0)<<13|o>>>19)+L|0)<<18|o>>>14,B^=(o=(S^=(o=(k^=(o=(I^=(o=B+S|0)<<7|o>>>25)+B|0)<<9|o>>>23)+I|0)<<13|o>>>19)+k|0)<<18|o>>>14,T^=(o=(C^=(o=(P^=(o=(U^=(o=T+C|0)<<7|o>>>25)+T|0)<<9|o>>>23)+U|0)<<13|o>>>19)+P|0)<<18|o>>>14,x^=(o=(U^=(o=(k^=(o=(E^=(o=x+U|0)<<7|o>>>25)+x|0)<<9|o>>>23)+E|0)<<13|o>>>19)+k|0)<<18|o>>>14,A^=(o=(_^=(o=(P^=(o=(S^=(o=A+_|0)<<7|o>>>25)+A|0)<<9|o>>>23)+S|0)<<13|o>>>19)+P|0)<<18|o>>>14,B^=(o=(O^=(o=(R^=(o=(C^=(o=B+O|0)<<7|o>>>25)+B|0)<<9|o>>>23)+C|0)<<13|o>>>19)+R|0)<<18|o>>>14,T^=(o=(I^=(o=(L^=(o=(j^=(o=T+I|0)<<7|o>>>25)+T|0)<<9|o>>>23)+j|0)<<13|o>>>19)+L|0)<<18|o>>>14;x=x+i|0,E=E+s|0,k=k+a|0,U=U+c|0,_=_+l|0,A=A+u|0,S=S+f|0,P=P+h|0,R=R+p|0,O=O+d|0,B=B+m|0,C=C+y|0,j=j+g|0,L=L+w|0,I=I+v|0,T=T+b|0,t[0]=x>>>0&255,t[1]=x>>>8&255,t[2]=x>>>16&255,t[3]=x>>>24&255,t[4]=E>>>0&255,t[5]=E>>>8&255,t[6]=E>>>16&255,t[7]=E>>>24&255,t[8]=k>>>0&255,t[9]=k>>>8&255,t[10]=k>>>16&255,t[11]=k>>>24&255,t[12]=U>>>0&255,t[13]=U>>>8&255,t[14]=U>>>16&255,t[15]=U>>>24&255,t[16]=_>>>0&255,t[17]=_>>>8&255,t[18]=_>>>16&255,t[19]=_>>>24&255,t[20]=A>>>0&255,t[21]=A>>>8&255,t[22]=A>>>16&255,t[23]=A>>>24&255,t[24]=S>>>0&255,t[25]=S>>>8&255,t[26]=S>>>16&255,t[27]=S>>>24&255,t[28]=P>>>0&255,t[29]=P>>>8&255,t[30]=P>>>16&255,t[31]=P>>>24&255,t[32]=R>>>0&255,t[33]=R>>>8&255,t[34]=R>>>16&255,t[35]=R>>>24&255,t[36]=O>>>0&255,t[37]=O>>>8&255,t[38]=O>>>16&255,t[39]=O>>>24&255,t[40]=B>>>0&255,t[41]=B>>>8&255,t[42]=B>>>16&255,t[43]=B>>>24&255,t[44]=C>>>0&255,t[45]=C>>>8&255,t[46]=C>>>16&255,t[47]=C>>>24&255,t[48]=j>>>0&255,t[49]=j>>>8&255,t[50]=j>>>16&255,t[51]=j>>>24&255,t[52]=L>>>0&255,t[53]=L>>>8&255,t[54]=L>>>16&255,t[55]=L>>>24&255,t[56]=I>>>0&255,t[57]=I>>>8&255,t[58]=I>>>16&255,t[59]=I>>>24&255,t[60]=T>>>0&255,t[61]=T>>>8&255,t[62]=T>>>16&255,t[63]=T>>>24&255}(t,e,r,n)}function v(t,e,r,n){!function(t,e,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,u=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,w=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,x=0;x<20;x+=2)i^=(o=(g^=(o=(p^=(o=(l^=(o=i+g|0)<<7|o>>>25)+i|0)<<9|o>>>23)+l|0)<<13|o>>>19)+p|0)<<18|o>>>14,u^=(o=(s^=(o=(w^=(o=(d^=(o=u+s|0)<<7|o>>>25)+u|0)<<9|o>>>23)+d|0)<<13|o>>>19)+w|0)<<18|o>>>14,m^=(o=(f^=(o=(a^=(o=(v^=(o=m+f|0)<<7|o>>>25)+m|0)<<9|o>>>23)+v|0)<<13|o>>>19)+a|0)<<18|o>>>14,b^=(o=(y^=(o=(h^=(o=(c^=(o=b+y|0)<<7|o>>>25)+b|0)<<9|o>>>23)+c|0)<<13|o>>>19)+h|0)<<18|o>>>14,i^=(o=(c^=(o=(a^=(o=(s^=(o=i+c|0)<<7|o>>>25)+i|0)<<9|o>>>23)+s|0)<<13|o>>>19)+a|0)<<18|o>>>14,u^=(o=(l^=(o=(h^=(o=(f^=(o=u+l|0)<<7|o>>>25)+u|0)<<9|o>>>23)+f|0)<<13|o>>>19)+h|0)<<18|o>>>14,m^=(o=(d^=(o=(p^=(o=(y^=(o=m+d|0)<<7|o>>>25)+m|0)<<9|o>>>23)+y|0)<<13|o>>>19)+p|0)<<18|o>>>14,b^=(o=(v^=(o=(w^=(o=(g^=(o=b+v|0)<<7|o>>>25)+b|0)<<9|o>>>23)+g|0)<<13|o>>>19)+w|0)<<18|o>>>14;t[0]=i>>>0&255,t[1]=i>>>8&255,t[2]=i>>>16&255,t[3]=i>>>24&255,t[4]=u>>>0&255,t[5]=u>>>8&255,t[6]=u>>>16&255,t[7]=u>>>24&255,t[8]=m>>>0&255,t[9]=m>>>8&255,t[10]=m>>>16&255,t[11]=m>>>24&255,t[12]=b>>>0&255,t[13]=b>>>8&255,t[14]=b>>>16&255,t[15]=b>>>24&255,t[16]=f>>>0&255,t[17]=f>>>8&255,t[18]=f>>>16&255,t[19]=f>>>24&255,t[20]=h>>>0&255,t[21]=h>>>8&255,t[22]=h>>>16&255,t[23]=h>>>24&255,t[24]=p>>>0&255,t[25]=p>>>8&255,t[26]=p>>>16&255,t[27]=p>>>24&255,t[28]=d>>>0&255,t[29]=d>>>8&255,t[30]=d>>>16&255,t[31]=d>>>24&255}(t,e,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function x(t,e,r,n,o,i,s){var a,c,l=new Uint8Array(16),u=new Uint8Array(64);for(c=0;c<16;c++)l[c]=0;for(c=0;c<8;c++)l[c]=i[c];for(;o>=64;){for(w(u,l,s,b),c=0;c<64;c++)t[e+c]=r[n+c]^u[c];for(a=1,c=8;c<16;c++)a=a+(255&l[c])|0,l[c]=255&a,a>>>=8;o-=64,e+=64,n+=64}if(o>0)for(w(u,l,s,b),c=0;c<o;c++)t[e+c]=r[n+c]^u[c];return 0}function E(t,e,r,n,o){var i,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(w(c,a,o,b),s=0;s<64;s++)t[e+s]=c[s];for(i=1,s=8;s<16;s++)i=i+(255&a[s])|0,a[s]=255&i,i>>>=8;r-=64,e+=64}if(r>0)for(w(c,a,o,b),s=0;s<r;s++)t[e+s]=c[s];return 0}function k(t,e,r,n,o){var i=new Uint8Array(32);v(i,n,o,b);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return E(t,e,r,s,i)}function U(t,e,r,n,o,i,s){var a=new Uint8Array(32);v(a,i,s,b);for(var c=new Uint8Array(8),l=0;l<8;l++)c[l]=i[l+16];return x(t,e,r,n,o,c,a)}var _=function(t){var e,r,n,o,i,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),o=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|o<<9),i=255&t[8]|(255&t[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(i>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function A(t,e,r,n,o,i){var s=new _(i);return s.update(r,n,o),s.finish(t,e),0}function S(t,e,r,n,o,i){var s=new Uint8Array(16);return A(s,0,r,n,o,i),y(t,e,s,0)}function P(t,e,r,n,o){var i;if(r<32)return-1;for(U(t,0,e,0,r,n,o),A(t,16,t,32,r-32,t),i=0;i<16;i++)t[i]=0;return 0}function R(t,e,r,n,o){var i,s=new Uint8Array(32);if(r<32)return-1;if(k(s,0,32,n,o),0!==S(e,16,e,32,r-32,s))return-1;for(U(t,0,e,0,r,n,o),i=0;i<32;i++)t[i]=0;return 0}function O(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function B(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function C(t,e,r){for(var n,o=~(r-1),i=0;i<16;i++)n=o&(t[i]^e[i]),t[i]^=n,e[i]^=n}function j(t,r){var n,o,i,s=e(),a=e();for(n=0;n<16;n++)a[n]=r[n];for(B(a),B(a),B(a),o=0;o<2;o++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,C(a,s,1-i)}for(n=0;n<16;n++)t[2*n]=255&a[n],t[2*n+1]=a[n]>>8}function L(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return j(r,t),j(n,e),g(r,0,n,0)}function I(t){var e=new Uint8Array(32);return j(e,t),1&e[0]}function T(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function D(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function H(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function M(t,e,r){var n,o,i=0,s=0,a=0,c=0,l=0,u=0,f=0,h=0,p=0,d=0,m=0,y=0,g=0,w=0,v=0,b=0,x=0,E=0,k=0,U=0,_=0,A=0,S=0,P=0,R=0,O=0,B=0,C=0,j=0,L=0,I=0,T=r[0],D=r[1],H=r[2],M=r[3],F=r[4],q=r[5],N=r[6],z=r[7],$=r[8],K=r[9],W=r[10],Y=r[11],G=r[12],V=r[13],J=r[14],X=r[15];i+=(n=e[0])*T,s+=n*D,a+=n*H,c+=n*M,l+=n*F,u+=n*q,f+=n*N,h+=n*z,p+=n*$,d+=n*K,m+=n*W,y+=n*Y,g+=n*G,w+=n*V,v+=n*J,b+=n*X,s+=(n=e[1])*T,a+=n*D,c+=n*H,l+=n*M,u+=n*F,f+=n*q,h+=n*N,p+=n*z,d+=n*$,m+=n*K,y+=n*W,g+=n*Y,w+=n*G,v+=n*V,b+=n*J,x+=n*X,a+=(n=e[2])*T,c+=n*D,l+=n*H,u+=n*M,f+=n*F,h+=n*q,p+=n*N,d+=n*z,m+=n*$,y+=n*K,g+=n*W,w+=n*Y,v+=n*G,b+=n*V,x+=n*J,E+=n*X,c+=(n=e[3])*T,l+=n*D,u+=n*H,f+=n*M,h+=n*F,p+=n*q,d+=n*N,m+=n*z,y+=n*$,g+=n*K,w+=n*W,v+=n*Y,b+=n*G,x+=n*V,E+=n*J,k+=n*X,l+=(n=e[4])*T,u+=n*D,f+=n*H,h+=n*M,p+=n*F,d+=n*q,m+=n*N,y+=n*z,g+=n*$,w+=n*K,v+=n*W,b+=n*Y,x+=n*G,E+=n*V,k+=n*J,U+=n*X,u+=(n=e[5])*T,f+=n*D,h+=n*H,p+=n*M,d+=n*F,m+=n*q,y+=n*N,g+=n*z,w+=n*$,v+=n*K,b+=n*W,x+=n*Y,E+=n*G,k+=n*V,U+=n*J,_+=n*X,f+=(n=e[6])*T,h+=n*D,p+=n*H,d+=n*M,m+=n*F,y+=n*q,g+=n*N,w+=n*z,v+=n*$,b+=n*K,x+=n*W,E+=n*Y,k+=n*G,U+=n*V,_+=n*J,A+=n*X,h+=(n=e[7])*T,p+=n*D,d+=n*H,m+=n*M,y+=n*F,g+=n*q,w+=n*N,v+=n*z,b+=n*$,x+=n*K,E+=n*W,k+=n*Y,U+=n*G,_+=n*V,A+=n*J,S+=n*X,p+=(n=e[8])*T,d+=n*D,m+=n*H,y+=n*M,g+=n*F,w+=n*q,v+=n*N,b+=n*z,x+=n*$,E+=n*K,k+=n*W,U+=n*Y,_+=n*G,A+=n*V,S+=n*J,P+=n*X,d+=(n=e[9])*T,m+=n*D,y+=n*H,g+=n*M,w+=n*F,v+=n*q,b+=n*N,x+=n*z,E+=n*$,k+=n*K,U+=n*W,_+=n*Y,A+=n*G,S+=n*V,P+=n*J,R+=n*X,m+=(n=e[10])*T,y+=n*D,g+=n*H,w+=n*M,v+=n*F,b+=n*q,x+=n*N,E+=n*z,k+=n*$,U+=n*K,_+=n*W,A+=n*Y,S+=n*G,P+=n*V,R+=n*J,O+=n*X,y+=(n=e[11])*T,g+=n*D,w+=n*H,v+=n*M,b+=n*F,x+=n*q,E+=n*N,k+=n*z,U+=n*$,_+=n*K,A+=n*W,S+=n*Y,P+=n*G,R+=n*V,O+=n*J,B+=n*X,g+=(n=e[12])*T,w+=n*D,v+=n*H,b+=n*M,x+=n*F,E+=n*q,k+=n*N,U+=n*z,_+=n*$,A+=n*K,S+=n*W,P+=n*Y,R+=n*G,O+=n*V,B+=n*J,C+=n*X,w+=(n=e[13])*T,v+=n*D,b+=n*H,x+=n*M,E+=n*F,k+=n*q,U+=n*N,_+=n*z,A+=n*$,S+=n*K,P+=n*W,R+=n*Y,O+=n*G,B+=n*V,C+=n*J,j+=n*X,v+=(n=e[14])*T,b+=n*D,x+=n*H,E+=n*M,k+=n*F,U+=n*q,_+=n*N,A+=n*z,S+=n*$,P+=n*K,R+=n*W,O+=n*Y,B+=n*G,C+=n*V,j+=n*J,L+=n*X,b+=(n=e[15])*T,s+=38*(E+=n*H),a+=38*(k+=n*M),c+=38*(U+=n*F),l+=38*(_+=n*q),u+=38*(A+=n*N),f+=38*(S+=n*z),h+=38*(P+=n*$),p+=38*(R+=n*K),d+=38*(O+=n*W),m+=38*(B+=n*Y),y+=38*(C+=n*G),g+=38*(j+=n*V),w+=38*(L+=n*J),v+=38*(I+=n*X),i=(n=(i+=38*(x+=n*D))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),i=(n=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),i+=o-1+37*(o-1),t[0]=i,t[1]=s,t[2]=a,t[3]=c,t[4]=l,t[5]=u,t[6]=f,t[7]=h,t[8]=p,t[9]=d,t[10]=m,t[11]=y,t[12]=g,t[13]=w,t[14]=v,t[15]=b}function F(t,e){M(t,e,e)}function q(t,r){var n,o=e();for(n=0;n<16;n++)o[n]=r[n];for(n=253;n>=0;n--)F(o,o),2!==n&&4!==n&&M(o,o,r);for(n=0;n<16;n++)t[n]=o[n]}function N(t,r){var n,o=e();for(n=0;n<16;n++)o[n]=r[n];for(n=250;n>=0;n--)F(o,o),1!==n&&M(o,o,r);for(n=0;n<16;n++)t[n]=o[n]}function z(t,r,n){var o,i,s=new Uint8Array(32),a=new Float64Array(80),l=e(),u=e(),f=e(),h=e(),p=e(),d=e();for(i=0;i<31;i++)s[i]=r[i];for(s[31]=127&r[31]|64,s[0]&=248,T(a,n),i=0;i<16;i++)u[i]=a[i],h[i]=l[i]=f[i]=0;for(l[0]=h[0]=1,i=254;i>=0;--i)C(l,u,o=s[i>>>3]>>>(7&i)&1),C(f,h,o),D(p,l,f),H(l,l,f),D(f,u,h),H(u,u,h),F(h,p),F(d,l),M(l,f,l),M(f,u,p),D(p,l,f),H(l,l,f),F(u,l),H(f,h,d),M(l,f,c),D(l,l,h),M(f,f,l),M(l,h,d),M(h,u,a),F(u,p),C(l,u,o),C(f,h,o);for(i=0;i<16;i++)a[i+16]=l[i],a[i+32]=f[i],a[i+48]=u[i],a[i+64]=h[i];var m=a.subarray(32),y=a.subarray(16);return q(m,m),M(y,y,m),j(t,y),0}function $(t,e){return z(t,e,i)}function K(t,e){return n(e,32),$(t,e)}function W(t,e,r){var n=new Uint8Array(32);return z(n,r,e),v(t,o,n,b)}_.prototype.blocks=function(t,e,r){for(var n,o,i,s,a,c,l,u,f,h,p,d,m,y,g,w,v,b,x,E=this.fin?0:2048,k=this.h[0],U=this.h[1],_=this.h[2],A=this.h[3],S=this.h[4],P=this.h[5],R=this.h[6],O=this.h[7],B=this.h[8],C=this.h[9],j=this.r[0],L=this.r[1],I=this.r[2],T=this.r[3],D=this.r[4],H=this.r[5],M=this.r[6],F=this.r[7],q=this.r[8],N=this.r[9];r>=16;)h=f=0,h+=(k+=8191&(n=255&t[e+0]|(255&t[e+1])<<8))*j,h+=(U+=8191&(n>>>13|(o=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*N),h+=(_+=8191&(o>>>10|(i=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*q),h+=(A+=8191&(i>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*F),f=(h+=(S+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*M))>>>13,h&=8191,h+=(P+=a>>>1&8191)*(5*H),h+=(R+=8191&(a>>>14|(c=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*D),h+=(O+=8191&(c>>>11|(l=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*T),h+=(B+=8191&(l>>>8|(u=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*I),p=f+=(h+=(C+=u>>>5|E)*(5*L))>>>13,p+=k*L,p+=U*j,p+=_*(5*N),p+=A*(5*q),f=(p+=S*(5*F))>>>13,p&=8191,p+=P*(5*M),p+=R*(5*H),p+=O*(5*D),p+=B*(5*T),f+=(p+=C*(5*I))>>>13,p&=8191,d=f,d+=k*I,d+=U*L,d+=_*j,d+=A*(5*N),f=(d+=S*(5*q))>>>13,d&=8191,d+=P*(5*F),d+=R*(5*M),d+=O*(5*H),d+=B*(5*D),m=f+=(d+=C*(5*T))>>>13,m+=k*T,m+=U*I,m+=_*L,m+=A*j,f=(m+=S*(5*N))>>>13,m&=8191,m+=P*(5*q),m+=R*(5*F),m+=O*(5*M),m+=B*(5*H),y=f+=(m+=C*(5*D))>>>13,y+=k*D,y+=U*T,y+=_*I,y+=A*L,f=(y+=S*j)>>>13,y&=8191,y+=P*(5*N),y+=R*(5*q),y+=O*(5*F),y+=B*(5*M),g=f+=(y+=C*(5*H))>>>13,g+=k*H,g+=U*D,g+=_*T,g+=A*I,f=(g+=S*L)>>>13,g&=8191,g+=P*j,g+=R*(5*N),g+=O*(5*q),g+=B*(5*F),w=f+=(g+=C*(5*M))>>>13,w+=k*M,w+=U*H,w+=_*D,w+=A*T,f=(w+=S*I)>>>13,w&=8191,w+=P*L,w+=R*j,w+=O*(5*N),w+=B*(5*q),v=f+=(w+=C*(5*F))>>>13,v+=k*F,v+=U*M,v+=_*H,v+=A*D,f=(v+=S*T)>>>13,v&=8191,v+=P*I,v+=R*L,v+=O*j,v+=B*(5*N),b=f+=(v+=C*(5*q))>>>13,b+=k*q,b+=U*F,b+=_*M,b+=A*H,f=(b+=S*D)>>>13,b&=8191,b+=P*T,b+=R*I,b+=O*L,b+=B*j,x=f+=(b+=C*(5*N))>>>13,x+=k*N,x+=U*q,x+=_*F,x+=A*M,f=(x+=S*H)>>>13,x&=8191,x+=P*D,x+=R*T,x+=O*I,x+=B*L,k=h=8191&(f=(f=((f+=(x+=C*j)>>>13)<<2)+f|0)+(h&=8191)|0),U=p+=f>>>=13,_=d&=8191,A=m&=8191,S=y&=8191,P=g&=8191,R=w&=8191,O=v&=8191,B=b&=8191,C=x&=8191,e+=16,r-=16;this.h[0]=k,this.h[1]=U,this.h[2]=_,this.h[3]=A,this.h[4]=S,this.h[5]=P,this.h[6]=R,this.h[7]=O,this.h[8]=B,this.h[9]=C},_.prototype.finish=function(t,e){var r,n,o,i,s=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=r,r=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,i=1;i<10;i++)s[i]=this.h[i]+r,r=s[i]>>>13,s[i]&=8191;for(s[9]-=8192,n=(1^r)-1,i=0;i<10;i++)s[i]&=n;for(n=~n,i=0;i<10;i++)this.h[i]=this.h[i]&n|s[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},_.prototype.update=function(t,e,r){var n,o;if(this.leftover){for((o=16-this.leftover)>r&&(o=r),n=0;n<o;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=o,e+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(o=r-r%16,this.blocks(t,e,o),e+=o,r-=o),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var Y=P,G=R,V=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(t,e,r,n){for(var o,i,s,a,c,l,u,f,h,p,d,m,y,g,w,v,b,x,E,k,U,_,A,S,P,R,O=new Int32Array(16),B=new Int32Array(16),C=t[0],j=t[1],L=t[2],I=t[3],T=t[4],D=t[5],H=t[6],M=t[7],F=e[0],q=e[1],N=e[2],z=e[3],$=e[4],K=e[5],W=e[6],Y=e[7],G=0;n>=128;){for(E=0;E<16;E++)k=8*E+G,O[E]=r[k+0]<<24|r[k+1]<<16|r[k+2]<<8|r[k+3],B[E]=r[k+4]<<24|r[k+5]<<16|r[k+6]<<8|r[k+7];for(E=0;E<80;E++)if(o=C,i=j,s=L,a=I,c=T,l=D,u=H,h=F,p=q,d=N,m=z,y=$,g=K,w=W,A=65535&(_=Y),S=_>>>16,P=65535&(U=M),R=U>>>16,A+=65535&(_=($>>>14|T<<18)^($>>>18|T<<14)^(T>>>9|$<<23)),S+=_>>>16,P+=65535&(U=(T>>>14|$<<18)^(T>>>18|$<<14)^($>>>9|T<<23)),R+=U>>>16,A+=65535&(_=$&K^~$&W),S+=_>>>16,P+=65535&(U=T&D^~T&H),R+=U>>>16,A+=65535&(_=V[2*E+1]),S+=_>>>16,P+=65535&(U=V[2*E]),R+=U>>>16,U=O[E%16],S+=(_=B[E%16])>>>16,P+=65535&U,R+=U>>>16,P+=(S+=(A+=65535&_)>>>16)>>>16,A=65535&(_=x=65535&A|S<<16),S=_>>>16,P=65535&(U=b=65535&P|(R+=P>>>16)<<16),R=U>>>16,A+=65535&(_=(F>>>28|C<<4)^(C>>>2|F<<30)^(C>>>7|F<<25)),S+=_>>>16,P+=65535&(U=(C>>>28|F<<4)^(F>>>2|C<<30)^(F>>>7|C<<25)),R+=U>>>16,S+=(_=F&q^F&N^q&N)>>>16,P+=65535&(U=C&j^C&L^j&L),R+=U>>>16,f=65535&(P+=(S+=(A+=65535&_)>>>16)>>>16)|(R+=P>>>16)<<16,v=65535&A|S<<16,A=65535&(_=m),S=_>>>16,P=65535&(U=a),R=U>>>16,S+=(_=x)>>>16,P+=65535&(U=b),R+=U>>>16,j=o,L=i,I=s,T=a=65535&(P+=(S+=(A+=65535&_)>>>16)>>>16)|(R+=P>>>16)<<16,D=c,H=l,M=u,C=f,q=h,N=p,z=d,$=m=65535&A|S<<16,K=y,W=g,Y=w,F=v,E%16==15)for(k=0;k<16;k++)U=O[k],A=65535&(_=B[k]),S=_>>>16,P=65535&U,R=U>>>16,U=O[(k+9)%16],A+=65535&(_=B[(k+9)%16]),S+=_>>>16,P+=65535&U,R+=U>>>16,b=O[(k+1)%16],A+=65535&(_=((x=B[(k+1)%16])>>>1|b<<31)^(x>>>8|b<<24)^(x>>>7|b<<25)),S+=_>>>16,P+=65535&(U=(b>>>1|x<<31)^(b>>>8|x<<24)^b>>>7),R+=U>>>16,b=O[(k+14)%16],S+=(_=((x=B[(k+14)%16])>>>19|b<<13)^(b>>>29|x<<3)^(x>>>6|b<<26))>>>16,P+=65535&(U=(b>>>19|x<<13)^(x>>>29|b<<3)^b>>>6),R+=U>>>16,R+=(P+=(S+=(A+=65535&_)>>>16)>>>16)>>>16,O[k]=65535&P|R<<16,B[k]=65535&A|S<<16;A=65535&(_=F),S=_>>>16,P=65535&(U=C),R=U>>>16,U=t[0],S+=(_=e[0])>>>16,P+=65535&U,R+=U>>>16,R+=(P+=(S+=(A+=65535&_)>>>16)>>>16)>>>16,t[0]=C=65535&P|R<<16,e[0]=F=65535&A|S<<16,A=65535&(_=q),S=_>>>16,P=65535&(U=j),R=U>>>16,U=t[1],S+=(_=e[1])>>>16,P+=65535&U,R+=U>>>16,R+=(P+=(S+=(A+=65535&_)>>>16)>>>16)>>>16,t[1]=j=65535&P|R<<16,e[1]=q=65535&A|S<<16,A=65535&(_=N),S=_>>>16,P=65535&(U=L),R=U>>>16,U=t[2],S+=(_=e[2])>>>16,P+=65535&U,R+=U>>>16,R+=(P+=(S+=(A+=65535&_)>>>16)>>>16)>>>16,t[2]=L=65535&P|R<<16,e[2]=N=65535&A|S<<16,A=65535&(_=z),S=_>>>16,P=65535&(U=I),R=U>>>16,U=t[3],S+=(_=e[3])>>>16,P+=65535&U,R+=U>>>16,R+=(P+=(S+=(A+=65535&_)>>>16)>>>16)>>>16,t[3]=I=65535&P|R<<16,e[3]=z=65535&A|S<<16,A=65535&(_=$),S=_>>>16,P=65535&(U=T),R=U>>>16,U=t[4],S+=(_=e[4])>>>16,P+=65535&U,R+=U>>>16,R+=(P+=(S+=(A+=65535&_)>>>16)>>>16)>>>16,t[4]=T=65535&P|R<<16,e[4]=$=65535&A|S<<16,A=65535&(_=K),S=_>>>16,P=65535&(U=D),R=U>>>16,U=t[5],S+=(_=e[5])>>>16,P+=65535&U,R+=U>>>16,R+=(P+=(S+=(A+=65535&_)>>>16)>>>16)>>>16,t[5]=D=65535&P|R<<16,e[5]=K=65535&A|S<<16,A=65535&(_=W),S=_>>>16,P=65535&(U=H),R=U>>>16,U=t[6],S+=(_=e[6])>>>16,P+=65535&U,R+=U>>>16,R+=(P+=(S+=(A+=65535&_)>>>16)>>>16)>>>16,t[6]=H=65535&P|R<<16,e[6]=W=65535&A|S<<16,A=65535&(_=Y),S=_>>>16,P=65535&(U=M),R=U>>>16,U=t[7],S+=(_=e[7])>>>16,P+=65535&U,R+=U>>>16,R+=(P+=(S+=(A+=65535&_)>>>16)>>>16)>>>16,t[7]=M=65535&P|R<<16,e[7]=Y=65535&A|S<<16,G+=128,n-=128}return n}function X(t,e,r){var n,o=new Int32Array(8),i=new Int32Array(8),s=new Uint8Array(256),a=r;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,J(o,i,e,r),r%=128,n=0;n<r;n++)s[n]=e[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,d(s,r-8,a/536870912|0,a<<3),J(o,i,s,r),n=0;n<8;n++)d(t,8*n,o[n],i[n]);return 0}function Z(t,r){var n=e(),o=e(),i=e(),s=e(),a=e(),c=e(),l=e(),f=e(),h=e();H(n,t[1],t[0]),H(h,r[1],r[0]),M(n,n,h),D(o,t[0],t[1]),D(h,r[0],r[1]),M(o,o,h),M(i,t[3],r[3]),M(i,i,u),M(s,t[2],r[2]),D(s,s,s),H(a,o,n),H(c,s,i),D(l,s,i),D(f,o,n),M(t[0],a,c),M(t[1],f,l),M(t[2],l,c),M(t[3],a,f)}function Q(t,e,r){var n;for(n=0;n<4;n++)C(t[n],e[n],r)}function tt(t,r){var n=e(),o=e(),i=e();q(i,r[2]),M(n,r[0],i),M(o,r[1],i),j(t,o),t[31]^=I(n)<<7}function et(t,e,r){var n,o;for(O(t[0],s),O(t[1],a),O(t[2],a),O(t[3],s),o=255;o>=0;--o)Q(t,e,n=r[o/8|0]>>(7&o)&1),Z(e,t),Z(t,t),Q(t,e,n)}function rt(t,r){var n=[e(),e(),e(),e()];O(n[0],f),O(n[1],h),O(n[2],a),M(n[3],f,h),et(t,n,r)}function nt(t,r,o){var i,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(o||n(r,32),X(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,rt(a,s),tt(t,a),i=0;i<32;i++)r[i+32]=t[i];return 0}var ot=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function it(t,e){var r,n,o,i;for(n=63;n>=32;--n){for(r=0,o=n-32,i=n-12;o<i;++o)e[o]+=r-16*e[n]*ot[o-(n-32)],r=Math.floor((e[o]+128)/256),e[o]-=256*r;e[o]+=r,e[n]=0}for(r=0,o=0;o<32;o++)e[o]+=r-(e[31]>>4)*ot[o],r=e[o]>>8,e[o]&=255;for(o=0;o<32;o++)e[o]-=r*ot[o];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function st(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;it(t,r)}function at(t,r,n,o){var i,s,a=new Uint8Array(64),c=new Uint8Array(64),l=new Uint8Array(64),u=new Float64Array(64),f=[e(),e(),e(),e()];X(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=n+64;for(i=0;i<n;i++)t[64+i]=r[i];for(i=0;i<32;i++)t[32+i]=a[32+i];for(X(l,t.subarray(32),n+32),st(l),rt(f,l),tt(t,f),i=32;i<64;i++)t[i]=o[i];for(X(c,t,n+64),st(c),i=0;i<64;i++)u[i]=0;for(i=0;i<32;i++)u[i]=l[i];for(i=0;i<32;i++)for(s=0;s<32;s++)u[i+s]+=c[i]*a[s];return it(t.subarray(32),u),h}function ct(t,r,n,o){var i,c=new Uint8Array(32),u=new Uint8Array(64),f=[e(),e(),e(),e()],h=[e(),e(),e(),e()];if(n<64)return-1;if(function(t,r){var n=e(),o=e(),i=e(),c=e(),u=e(),f=e(),h=e();return O(t[2],a),T(t[1],r),F(i,t[1]),M(c,i,l),H(i,i,t[2]),D(c,t[2],c),F(u,c),F(f,u),M(h,f,u),M(n,h,i),M(n,n,c),N(n,n),M(n,n,i),M(n,n,c),M(n,n,c),M(t[0],n,c),F(o,t[0]),M(o,o,c),L(o,i)&&M(t[0],t[0],p),F(o,t[0]),M(o,o,c),L(o,i)?-1:(I(t[0])===r[31]>>7&&H(t[0],s,t[0]),M(t[3],t[0],t[1]),0)}(h,o))return-1;for(i=0;i<n;i++)t[i]=r[i];for(i=0;i<32;i++)t[i+32]=o[i];if(X(u,t,n),st(u),et(f,h,u),rt(h,r.subarray(32)),Z(f,h),tt(c,f),n-=64,g(r,0,c,0)){for(i=0;i<n;i++)t[i]=0;return-1}for(i=0;i<n;i++)t[i]=r[i+64];return n}var lt,ut=64,ft=32,ht=64;function pt(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function dt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function mt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:U,crypto_stream:k,crypto_stream_salsa20_xor:x,crypto_stream_salsa20:E,crypto_onetimeauth:A,crypto_onetimeauth_verify:S,crypto_verify_16:y,crypto_verify_32:g,crypto_secretbox:P,crypto_secretbox_open:R,crypto_scalarmult:z,crypto_scalarmult_base:$,crypto_box_beforenm:W,crypto_box_afternm:Y,crypto_box:function(t,e,r,n,o,i){var s=new Uint8Array(32);return W(s,o,i),Y(t,e,r,n,s)},crypto_box_open:function(t,e,r,n,o,i){var s=new Uint8Array(32);return W(s,o,i),G(t,e,r,n,s)},crypto_box_keypair:K,crypto_hash:X,crypto_sign:at,crypto_sign_keypair:nt,crypto_sign_open:ct,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ut,crypto_sign_PUBLICKEYBYTES:ft,crypto_sign_SECRETKEYBYTES:ht,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:l,L:ot,pack25519:j,unpack25519:T,M,A:D,S:F,Z:H,pow2523:N,add:Z,set25519:O,modL:it,scalarmult:et,scalarbase:rt},t.randomBytes=function(t){var e=new Uint8Array(t);return n(e,t),e},t.secretbox=function(t,e,r){dt(t,e,r),pt(r,e);for(var n=new Uint8Array(32+t.length),o=new Uint8Array(n.length),i=0;i<t.length;i++)n[i+32]=t[i];return P(o,n,n.length,e,r),o.subarray(16)},t.secretbox.open=function(t,e,r){dt(t,e,r),pt(r,e);for(var n=new Uint8Array(16+t.length),o=new Uint8Array(n.length),i=0;i<t.length;i++)n[i+16]=t[i];return n.length<32||0!==R(o,n,n.length,e,r)?null:o.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(dt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return z(r,t,e),r},t.scalarMult.base=function(t){if(dt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return $(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,o){var i=t.box.before(n,o);return t.secretbox(e,r,i)},t.box.before=function(t,e){dt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return W(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,o){var i=t.box.before(n,o);return t.secretbox.open(e,r,i)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return K(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(dt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return $(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(dt(t,e),e.length!==ht)throw new Error("bad secret key size");var r=new Uint8Array(ut+t.length);return at(r,t,t.length,e),r},t.sign.open=function(t,e){if(dt(t,e),e.length!==ft)throw new Error("bad public key size");var r=new Uint8Array(t.length),n=ct(r,t,t.length,e);if(n<0)return null;for(var o=new Uint8Array(n),i=0;i<o.length;i++)o[i]=r[i];return o},t.sign.detached=function(e,r){for(var n=t.sign(e,r),o=new Uint8Array(ut),i=0;i<o.length;i++)o[i]=n[i];return o},t.sign.detached.verify=function(t,e,r){if(dt(t,e,r),e.length!==ut)throw new Error("bad signature size");if(r.length!==ft)throw new Error("bad public key size");var n,o=new Uint8Array(ut+t.length),i=new Uint8Array(ut+t.length);for(n=0;n<ut;n++)o[n]=e[n];for(n=0;n<t.length;n++)o[n+ut]=t[n];return ct(i,o,o.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(ft),e=new Uint8Array(ht);return nt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(dt(t),t.length!==ht)throw new Error("bad secret key size");for(var e=new Uint8Array(ft),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(dt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(ft),r=new Uint8Array(ht),n=0;n<32;n++)r[n]=t[n];return nt(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=ft,t.sign.secretKeyLength=ht,t.sign.seedLength=32,t.sign.signatureLength=ut,t.hash=function(t){dt(t);var e=new Uint8Array(64);return X(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return dt(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===m(t,0,e,0,t.length)},t.setPRNG=function(t){n=t},(lt="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&lt.getRandomValues?t.setPRNG((function(t,e){var r,n=new Uint8Array(e);for(r=0;r<e;r+=65536)lt.getRandomValues(n.subarray(r,r+Math.min(e-r,65536)));for(r=0;r<e;r++)t[r]=n[r];mt(n)})):(lt=r(5024))&&lt.randomBytes&&t.setPRNG((function(t,e){var r,n=lt.randomBytes(e);for(r=0;r<e;r++)t[r]=n[r];mt(n)}))}(t.exports?t.exports:self.nacl=self.nacl||{})},4078:function(t,e,r){var n,o,i;i=function(){function t(t){var e=[];if(0===t.length)return"";if("string"!=typeof t[0])throw new TypeError("Url must be a string. Received "+t[0]);if(t[0].match(/^[^/:]+:\/*$/)&&t.length>1){var r=t.shift();t[0]=r+t[0]}t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://");for(var n=0;n<t.length;n++){var o=t[n];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(n>0&&(o=o.replace(/^[\/]+/,"")),o=n<t.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),e.push(o))}var i=e.join("/"),s=(i=i.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return s.shift()+(s.length>0?"?":"")+s.join("&")}return function(){return t("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},t.exports?t.exports=i():void 0===(o="function"==typeof(n=i)?n.call(e,r,e,t):n)||(t.exports=o)},4564:(t,e,r)=>{"use strict";var n=r(7418),o=r(7129),i=/^[A-Za-z][A-Za-z0-9+-.]*:[\\/]+/,s=/^([a-z][a-z0-9.+-]*:)?([\\/]{1,})?([\S\s]*)/i,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(t){return(t||"").toString().replace(a,"")}var l=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function f(t){var e,n=("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{}).location||{},o={},s=typeof(t=t||n);if("blob:"===t.protocol)o=new p(unescape(t.pathname),{});else if("string"===s)for(e in o=new p(t,{}),u)delete o[e];else if("object"===s){for(e in t)e in u||(o[e]=t[e]);void 0===o.slashes&&(o.slashes=i.test(t.href))}return o}function h(t){t=c(t);var e=s.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!(e[2]&&e[2].length>=2),rest:e[2]&&1===e[2].length?"/"+e[3]:e[3]}}function p(t,e,r){if(t=c(t),!(this instanceof p))return new p(t,e,r);var i,s,a,u,d,m,y=l.slice(),g=typeof e,w=this,v=0;for("object"!==g&&"string"!==g&&(r=e,e=null),r&&"function"!=typeof r&&(r=o.parse),e=f(e),i=!(s=h(t||"")).protocol&&!s.slashes,w.slashes=s.slashes||i&&e.slashes,w.protocol=s.protocol||e.protocol||"",t=s.rest,s.slashes||(y[3]=[/(.*)/,"pathname"]);v<y.length;v++)"function"!=typeof(u=y[v])?(a=u[0],m=u[1],a!=a?w[m]=t:"string"==typeof a?~(d=t.indexOf(a))&&("number"==typeof u[2]?(w[m]=t.slice(0,d),t=t.slice(d+u[2])):(w[m]=t.slice(d),t=t.slice(0,d))):(d=a.exec(t))&&(w[m]=d[1],t=t.slice(0,d.index)),w[m]=w[m]||i&&u[3]&&e[m]||"",u[4]&&(w[m]=w[m].toLowerCase())):t=u(t);r&&(w.query=r(w.query)),i&&e.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==e.pathname)&&(w.pathname=function(t,e){if(""===t)return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,o=r[n-1],i=!1,s=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),s++):s&&(0===n&&(i=!0),r.splice(n,1),s--);return i&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(w.pathname,e.pathname)),"/"!==w.pathname.charAt(0)&&w.hostname&&(w.pathname="/"+w.pathname),n(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(u=w.auth.split(":"),w.username=u[0]||"",w.password=u[1]||""),w.origin=w.protocol&&w.host&&"file:"!==w.protocol?w.protocol+"//"+w.host:"null",w.href=w.toString()}p.prototype={set:function(t,e,r){var i=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(r||o.parse)(e)),i[t]=e;break;case"port":i[t]=e,n(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="");break;case"hostname":i[t]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[t]=e,/:\d+$/.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!r;break;case"pathname":case"hash":if(e){var s="pathname"===t?"/":"#";i[t]=e.charAt(0)!==s?s+e:e}else i[t]=e;break;default:i[t]=e}for(var a=0;a<l.length;a++){var c=l[a];c[4]&&(i[c[1]]=i[c[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(t){t&&"function"==typeof t||(t=o.stringify);var e,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var i=n+(r.slashes?"//":"");return r.username&&(i+=r.username,r.password&&(i+=":"+r.password),i+="@"),i+=r.host+r.pathname,(e="object"==typeof r.query?t(r.query):r.query)&&(i+="?"!==e.charAt(0)?"?"+e:e),r.hash&&(i+=r.hash),i}},p.extractProtocol=h,p.location=f,p.trimLeft=c,p.qs=o,t.exports=p},5024:()=>{}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(9669),e=r.n(t),n=r(9575),o=r(4564),i=r.n(o);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return u(t,arguments,p(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,t)})(t)}function u(t,e,r){return(u=f()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&h(o,r.prototype),o}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(n,t);var e,r=(e=n,function(){var t,r=p(e);if(f()){var n=p(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return c(this,t)});function n(t){var e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(a(this,n),(e=r.call(this,t)).originalRequest=i,e.originalResponse=s,e.causingError=o,null!=o&&(t+=", caused by ".concat(o.toString())),null!=i){var c=i.getHeader("X-Request-ID")||"n/a",l=i.getMethod(),u=i.getURL(),f=s?s.getStatus():"n/a",h=s?s.getBody()||"":"n/a";t+=", originated from request (method: ".concat(l,", url: ").concat(u,", response code: ").concat(f,", response text: ").concat(h,", request id: ").concat(c,")")}return e.message=t,e}return n}(l(Error));function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var v=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}var e,r,n;return e=t,n=[{key:"terminate",value:function(e,r){if(arguments.length>1&&"function"==typeof arguments[arguments.length-1])throw new Error("tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead");void 0===r&&(r={});var n=E("DELETE",e,r);return k(n,null,r).then((function(t){if(204!==t.getStatus())throw new d("tus: unexpected response while terminating upload",null,n,t)})).catch((function(o){if(o instanceof d||(o=new d("tus: failed to terminate upload",o,n,null)),!U(o,0,r))throw o;var i=r.retryDelays[0],s=r.retryDelays.slice(1),a=y({},r,{retryDelays:s});return new Promise((function(t){return setTimeout(t,i)})).then((function(){return t.terminate(e,a)}))}))}}],(r=[{key:"findPreviousUploads",value:function(){var t=this;return this.options.fingerprint(this.file,this.options).then((function(e){return t._urlStorage.findUploadsByFingerprint(e)}))}},{key:"resumeFromPreviousUpload",value:function(t){this.url=t.uploadUrl||null,this._parallelUploadUrls=t.parallelUploadUrls||null,this._urlStorageKey=t.urlStorageKey}},{key:"start",value:function(){var t=this,e=this.file;if(e)if(this.options.endpoint||this.options.uploadUrl){var r=this.options.retryDelays;null==r||"[object Array]"===Object.prototype.toString.call(r)?(this.options.parallelUploads>1&&["uploadUrl","uploadSize","uploadLengthDeferred"].forEach((function(e){t.options[e]&&t._emitError(new Error("tus: cannot use the ".concat(e," option when parallelUploads is enabled")))})),this.options.fingerprint(e,this.options).then((function(r){return null==r||"Calculated fingerprint: ".concat(r),t._fingerprint=r,t._source?t._source:t.options.fileReader.openFile(e,t.options.chunkSize)})).then((function(e){t._source=e,t.options.parallelUploads>1||null!=t._parallelUploadUrls?t._startParallelUpload():t._startSingleUpload()})).catch((function(e){t._emitError(e)}))):this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"))}else this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));else this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"_startParallelUpload",value:function(){var e=this,r=this._size=this._source.size,n=0;this._parallelUploads=[];var o=null!=this._parallelUploadUrls?this._parallelUploadUrls.length:this.options.parallelUploads,i=function(t,e,r){for(var n=Math.floor(t/e),o=[],i=0;i<e;i++)o.push({start:n*i,end:n*(i+1)});return o[e-1].end=t,r&&o.forEach((function(t,e){t.uploadUrl=r[e]||null})),o}(this._source.size,o,this._parallelUploadUrls);this._parallelUploadUrls=new Array(i.length);var s,a=i.map((function(o,s){var a=0;return e._source.slice(o.start,o.end).then((function(c){var l=c.value;return new Promise((function(c,u){var f=y({},e.options,{uploadUrl:o.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,metadata:{},headers:y({},e.options.headers,{"Upload-Concat":"partial"}),onSuccess:c,onError:u,onProgress:function(t){n=n-a+t,a=t,e._emitProgress(n,r)},_onUploadUrlAvailable:function(){e._parallelUploadUrls[s]=h.url,e._parallelUploadUrls.filter((function(t){return!!t})).length===i.length&&e._saveUploadInUrlStorage()}}),h=new t(l,f);h.start(),e._parallelUploads.push(h)}))}))}));Promise.all(a).then((function(){(s=e._openRequest("POST",e.options.endpoint)).setHeader("Upload-Concat","final;".concat(e._parallelUploadUrls.join(" ")));var t=b(e.options.metadata);return""!==t&&s.setHeader("Upload-Metadata",t),e._sendRequest(s,null)})).then((function(t){if(x(t.getStatus(),200)){var r=t.getHeader("Location");null!=r?(e.url=_(e.options.endpoint,r),"Created upload at ".concat(e.url),e._emitSuccess()):e._emitHttpError(s,t,"tus: invalid or missing Location header")}else e._emitHttpError(s,t,"tus: unexpected response while creating upload")})).catch((function(t){e._emitError(t)}))}},{key:"_startSingleUpload",value:function(){if(this.options.uploadLengthDeferred)this._size=null;else if(null!=this.options.uploadSize){if(this._size=+this.options.uploadSize,isNaN(this._size))return void this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(this._size=this._source.size,null==this._size)return void this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));return this._aborted=!1,null!=this.url?("Resuming upload from previous URL: ".concat(this.url),void this._resumeUpload()):null!=this.options.uploadUrl?("Resuming upload from provided URL: ".concat(this.options.url),this.url=this.options.uploadUrl,void this._resumeUpload()):void this._createUpload()}},{key:"abort",value:function(e){var r=this;if(arguments.length>1&&"function"==typeof arguments[1])throw new Error("tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead");return null!=this._parallelUploads&&this._parallelUploads.forEach((function(t){t.abort(e)})),null!==this._req&&(this._req.abort(),this._source.close()),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),e&&null!=this.url?t.terminate(this.url,this.options).then((function(){return r._removeFromUrlStorage()})):Promise.resolve()}},{key:"_emitHttpError",value:function(t,e,r,n){this._emitError(new d(r,n,t,e))}},{key:"_emitError",value:function(t){var e=this;if(!this._aborted){if(null!=this.options.retryDelays&&(null!=this._offset&&this._offset>this._offsetBeforeRetry&&(this._retryAttempt=0),U(t,this._retryAttempt,this.options))){var r=this.options.retryDelays[this._retryAttempt++];return this._offsetBeforeRetry=this._offset,void(this._retryTimeout=setTimeout((function(){e.start()}),r))}if("function"!=typeof this.options.onError)throw t;this.options.onError(t)}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(t,e){"function"==typeof this.options.onProgress&&this.options.onProgress(t,e)}},{key:"_emitChunkComplete",value:function(t,e,r){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(t,e,r)}},{key:"_createUpload",value:function(){var t=this;if(this.options.endpoint){var e=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?e.setHeader("Upload-Defer-Length",1):e.setHeader("Upload-Length",this._size);var r,n=b(this.options.metadata);""!==n&&e.setHeader("Upload-Metadata",n),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,r=this._addChunkToRequest(e)):r=this._sendRequest(e,null),r.then((function(r){if(x(r.getStatus(),200)){var n=r.getHeader("Location");if(null!=n){if(t.url=_(t.options.endpoint,n),"Created upload at ".concat(t.url),"function"==typeof t.options._onUploadUrlAvailable&&t.options._onUploadUrlAvailable(),0===t._size)return t._emitSuccess(),void t._source.close();t._saveUploadInUrlStorage(),t.options.uploadDataDuringCreation?t._handleUploadResponse(e,r):(t._offset=0,t._performUpload())}else t._emitHttpError(e,r,"tus: invalid or missing Location header")}else t._emitHttpError(e,r,"tus: unexpected response while creating upload")})).catch((function(r){t._emitHttpError(e,null,"tus: failed to create upload",r)}))}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function(){var t=this,e=this._openRequest("HEAD",this.url);this._sendRequest(e,null).then((function(r){var n=r.getStatus();if(!x(n,200))return x(n,400)&&t._removeFromUrlStorage(),423===n?void t._emitHttpError(e,r,"tus: upload is currently locked; retry later"):t.options.endpoint?(t.url=null,void t._createUpload()):void t._emitHttpError(e,r,"tus: unable to resume upload (new upload cannot be created without an endpoint)");var o=parseInt(r.getHeader("Upload-Offset"),10);if(isNaN(o))t._emitHttpError(e,r,"tus: invalid or missing offset value");else{var i=parseInt(r.getHeader("Upload-Length"),10);if(!isNaN(i)||t.options.uploadLengthDeferred){if("function"==typeof t.options._onUploadUrlAvailable&&t.options._onUploadUrlAvailable(),o===i)return t._emitProgress(i,i),void t._emitSuccess();t._offset=o,t._performUpload()}else t._emitHttpError(e,r,"tus: invalid or missing length value")}})).catch((function(r){t._emitHttpError(e,null,"tus: failed to resume upload",r)}))}},{key:"_performUpload",value:function(){var t,e=this;this._aborted||(this.options.overridePatchMethod?(t=this._openRequest("POST",this.url)).setHeader("X-HTTP-Method-Override","PATCH"):t=this._openRequest("PATCH",this.url),t.setHeader("Upload-Offset",this._offset),this._addChunkToRequest(t).then((function(r){x(r.getStatus(),200)?e._handleUploadResponse(t,r):e._emitHttpError(t,r,"tus: unexpected response while uploading chunk")})).catch((function(r){e._aborted||e._emitHttpError(t,null,"tus: failed to upload chunk at offset ".concat(e._offset),r)})))}},{key:"_addChunkToRequest",value:function(t){var e=this,r=this._offset,n=this._offset+this.options.chunkSize;return t.setProgressHandler((function(t){e._emitProgress(r+t,e._size)})),t.setHeader("Content-Type","application/offset+octet-stream"),(n===1/0||n>this._size)&&!this.options.uploadLengthDeferred&&(n=this._size),this._source.slice(r,n).then((function(r){var n=r.value,o=r.done;return e.options.uploadLengthDeferred&&o&&(e._size=e._offset+(n&&n.size?n.size:0),t.setHeader("Upload-Length",e._size)),null===n?e._sendRequest(t):(e._emitProgress(e._offset,e._size),e._sendRequest(t,n))}))}},{key:"_handleUploadResponse",value:function(t,e){var r=parseInt(e.getHeader("Upload-Offset"),10);if(isNaN(r))this._emitHttpError(t,e,"tus: invalid or missing offset value");else{if(this._emitProgress(r,this._size),this._emitChunkComplete(r-this._offset,r,this._size),this._offset=r,r==this._size)return this._emitSuccess(),void this._source.close();this._performUpload()}}},{key:"_openRequest",value:function(t,e){var r=E(t,e,this.options);return this._req=r,r}},{key:"_removeFromUrlStorage",value:function(){var t=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch((function(e){t._emitError(e)})),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var t=this;if(this.options.storeFingerprintForResuming&&this._fingerprint){var e={size:this._size,metadata:this.options.metadata,creationTime:(new Date).toString()};this._parallelUploads?e.parallelUploadUrls=this._parallelUploadUrls:e.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,e).then((function(e){return t._urlStorageKey=e})).catch((function(e){t._emitError(e)}))}}},{key:"_sendRequest",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return k(t,e,this.options)}}])&&w(e.prototype,r),n&&w(e,n),t}();function b(t){var e=[];for(var r in t)e.push("".concat(r," ").concat(n.Base64.encode(t[r])));return e.join(",")}function x(t,e){return t>=e&&t<e+100}function E(t,e,r){var n=r.httpStack.createRequest(t,e);n.setHeader("Tus-Resumable","1.0.0");var o=r.headers||{};for(var i in o)n.setHeader(i,o[i]);if(r.addRequestId){var s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}));n.setHeader("X-Request-ID",s)}return n}function k(t,e,r){return("function"==typeof r.onBeforeRequest?Promise.resolve(r.onBeforeRequest(t)):Promise.resolve()).then((function(){return t.send(e).then((function(e){return("function"==typeof r.onAfterResponse?Promise.resolve(r.onAfterResponse(t,e)):Promise.resolve()).then((function(){return e}))}))}))}function U(t,e,r){if(null==r.retryDelays||e>=r.retryDelays.length||null==t.originalRequest)return!1;if(r&&"function"==typeof r.onShouldRetry)return r.onShouldRetry(t,e,r);var n,o=t.originalResponse?t.originalResponse.getStatus():0;return(!x(o,400)||409===o||423===o)&&(n=!0,"undefined"!=typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(n=!1),n)}function _(t,e){return new(i())(e,t).toString()}v.defaultOptions={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null};const A=v;function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var P=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,(r=[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(t){return Promise.resolve([])}},{key:"removeUpload",value:function(t){return Promise.resolve()}},{key:"addUpload",value:function(t,e){return Promise.resolve(null)}}])&&S(e.prototype,r),t}();function R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var O=!1;try{O="localStorage"in window;var B="tusSupport";localStorage.setItem(B,localStorage.getItem(B))}catch(t){if(t.code!==t.SECURITY_ERR&&t.code!==t.QUOTA_EXCEEDED_ERR)throw t;O=!1}var C=O,j=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,(r=[{key:"findAllUploads",value:function(){var t=this._findEntries("tus::");return Promise.resolve(t)}},{key:"findUploadsByFingerprint",value:function(t){var e=this._findEntries("tus::".concat(t,"::"));return Promise.resolve(e)}},{key:"removeUpload",value:function(t){return localStorage.removeItem(t),Promise.resolve()}},{key:"addUpload",value:function(t,e){var r=Math.round(1e12*Math.random()),n="tus::".concat(t,"::").concat(r);return localStorage.setItem(n,JSON.stringify(e)),Promise.resolve(n)}},{key:"_findEntries",value:function(t){for(var e=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);if(0===n.indexOf(t))try{var o=JSON.parse(localStorage.getItem(n));o.urlStorageKey=n,e.push(o)}catch(t){}}return e}}])&&R(e.prototype,r),t}();function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function T(t,e,r){return e&&I(t.prototype,e),r&&I(t,r),t}var D=function(){function t(){L(this,t)}return T(t,[{key:"createRequest",value:function(t,e){return new H(t,e)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),t}(),H=function(){function t(e,r){L(this,t),this._xhr=new XMLHttpRequest,this._xhr.open(e,r,!0),this._method=e,this._url=r,this._headers={}}return T(t,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(t,e){this._xhr.setRequestHeader(t,e),this._headers[t]=e}},{key:"getHeader",value:function(t){return this._headers[t]}},{key:"setProgressHandler",value:function(t){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(e){e.lengthComputable&&t(e.loaded)})}},{key:"send",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(r,n){t._xhr.onload=function(){r(new M(t._xhr))},t._xhr.onerror=function(t){n(t)},t._xhr.send(e)}))}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}(),M=function(){function t(e){L(this,t),this._xhr=e}return T(t,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(t){return this._xhr.getResponseHeader(t)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}();const F=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()};function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function z(t,e,r){return e&&N(t.prototype,e),r&&N(t,r),t}var $=function(){function t(e){q(this,t),this._file=e,this.size=e.size}return z(t,[{key:"slice",value:function(t,e){if("undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova))return r=this._file.slice(t,e),new Promise((function(t,e){var n=new FileReader;n.onload=function(){var e=new Uint8Array(n.result);t({value:e})},n.onerror=function(t){e(t)},n.readAsArrayBuffer(r)}));var r,n=this._file.slice(t,e);return Promise.resolve({value:n})}},{key:"close",value:function(){}}]),t}(),K=function(){function t(e,r){q(this,t),this._chunkSize=r,this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return z(t,[{key:"slice",value:function(t,e){return t<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(t,e)}},{key:"_readUntilEnoughDataOrDone",value:function(t,e){var r=this,n=e<=this._bufferOffset+W(this._buffer);if(this._done||n){var o=this._getDataFromBuffer(t,e),i=null==o&&this._done;return Promise.resolve({value:o,done:i})}return this._reader.read().then((function(n){var o=n.value;return n.done?r._done=!0:void 0===r._buffer?r._buffer=o:r._buffer=function(t,e){if(t.concat)return t.concat(e);if(t instanceof Blob)return new Blob([t,e],{type:t.type});if(t.set){var r=new t.constructor(t.length+e.length);return r.set(t),r.set(e,t.length),r}throw new Error("Unknown data type")}(r._buffer,o),r._readUntilEnoughDataOrDone(t,e)}))}},{key:"_getDataFromBuffer",value:function(t,e){t>this._bufferOffset&&(this._buffer=this._buffer.slice(t-this._bufferOffset),this._bufferOffset=t);var r=0===W(this._buffer);return this._done&&r?null:this._buffer.slice(0,e-t)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),t}();function W(t){return void 0===t?0:void 0!==t.size?t.size:t.length}var Y=function(){function t(){q(this,t)}return z(t,[{key:"openFile",value:function(t,e){return F()&&t&&void 0!==t.uri?(r=t.uri,new Promise((function(t,e){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var e=n.response;t(e)},n.onerror=function(t){e(t)},n.open("GET",r),n.send()}))).then((function(t){return new $(t)})).catch((function(t){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(t))})):"function"==typeof t.slice&&void 0!==t.size?Promise.resolve(new $(t)):"function"==typeof t.read?(e=+e,isFinite(e)?Promise.resolve(new K(t,e)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"));var r}}]),t}();function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Z(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?et(Object(r),!0).forEach((function(e){nt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function nt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ot=rt({},A.defaultOptions,{httpStack:new D,fileReader:new Y,urlStorage:C?new j:new P,fingerprint:function(t,e){return F()?Promise.resolve(function(t,e){var r=t.exif?function(t){var e=0;if(0===t.length)return e;for(var r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e&=e;return e}(JSON.stringify(t.exif)):"noexif";return["tus-rn",t.name||"noname",t.size||"nosize",r,e.endpoint].join("/")}(t,e)):Promise.resolve(["tus-br",t.name,t.type,t.size,t.lastModified,e.endpoint].join("-"))}}),it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(i,t);var e,r,n,o=(e=i,function(){var t,r=tt(e);if(Q()){var n=tt(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return Z(this,t)});function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return V(this,i),e=rt({},ot,{},e),o.call(this,t,e)}return r=i,n=[{key:"terminate",value:function(t,e,r){return e=rt({},ot,{},e),A.terminate(t,e,r)}}],null&&J(r.prototype,null),n&&J(r,n),i}(A),st=window,at=st.XMLHttpRequest,ct=st.Blob,lt=(at&&ct&&ct.prototype.slice,r(2109)),ut=r.n(lt),ft=r(6470),ht=r.n(ft),pt=r(8764),dt=r(4078),mt=r.n(dt);const yt="hns://",gt="sia://";function wt(t,e){const r=new URL(t);return r.hostname=`${e}.${r.hostname}`,Ht(r.toString(),"/")}function vt(t,e){const r=i()(t,!0);return e={...r.query,...e},r.set("query",e),r.toString()}function bt(...t){return 0===t.length&&It("args",t,"parameter","non-empty"),t.reduce(((t,e)=>mt()(t,e)))}const xt={fromSubdomain:!1,includePath:!1,onlyPath:!1},Et="([a-zA-Z0-9_-]{46})",kt=new RegExp(`^${Et}$`),Ut=new RegExp(`^/?${Et}((/.*)?)$`),_t=new RegExp("^([a-z0-9_-]{55})(\\..*)?$");function At(t,e){Bt("skylinkUrl",t,"parameter"),Rt("customOptions",e,"parameter",xt);const r={...xt,...e};if(r.includePath&&r.onlyPath)throw new Error("The includePath and onlyPath options cannot both be set");if(r.includePath&&r.fromSubdomain)throw new Error("The includePath and fromSubdomain options cannot both be set");if(r.fromSubdomain)return function(t,e){const r={...xt,...e},n=i()(t,{}),o=n.hostname.match(_t);return o?r.onlyPath?Ht(n.pathname,"/"):o[1]:null}(t,r);const n=(t=Mt(t,gt)).match(kt);if(n)return r.onlyPath?"":n[1];const o=Ht(i()(t,{}).pathname,"/"),s=o.match(Ut);if(!s)return null;const a=s[2];return r.includePath?Tt(o):r.onlyPath?a:s[1]}function St(t,e,r){"bigint"!=typeof e&&It(t,e,r,"type 'bigint'")}function Pt(t,e,r){"object"!=typeof e&&It(t,e,r,"type 'object'"),null===e&&It(t,e,r,"non-null")}function Rt(t,e,r,n){if(e){Pt(t,e,r);for(const o in e)if(!(o in n))throw new Error(`Object ${r} '${t}' contains unexpected property '${o}'`)}}function Ot(t,e,r){Bt(t,e,r);const n=At(e);if(null===n)throw It(t,e,r,"valid skylink of type 'string'");return n}function Bt(t,e,r){"string"!=typeof e&&It(t,e,r,"type 'string'")}function Ct(t,e,r){Bt(t,e,r),Nt(e)||It(t,e,r,"a hex-encoded string")}function jt(t,e,r){e instanceof Uint8Array||It(t,e,r,"type 'Uint8Array'")}function Lt(t,e,r,n){jt(t,e,r);const o=e.length;o!==n&&It(t,e,r,`type 'Uint8Array' of length ${n}, was length ${o}`)}function It(t,e,r,n){let o;throw o=void 0===e?"type 'undefined'":null===e?"type 'null'":`type '${typeof e}', value '${e}'`,new Error(`Expected ${r} '${t}' to be ${n}, was ${o}`)}function Tt(t){return Dt(Ht(t,"/"),"/")}function Dt(t,e,r){for(;t.startsWith(e)&&!(void 0!==r&&r<=0);)t=t.slice(e.length),r&&(r-=1);return t}function Ht(t,e,r){for(;t.endsWith(e)&&!(void 0!==r&&r<=0);)t=t.substring(0,t.length-e.length),r&&(r-=1);return t}function Mt(t,e){const r=Ht(e,"/");return t.startsWith(e)?t.slice(e.length):t.startsWith(r)?t.slice(r.length):t}function Ft(t){return Bt("str",t,"parameter"),Uint8Array.from(pt.Buffer.from(t,"utf-8"))}function qt(t){Ct("str",t,"parameter");const e=t.match(/.{1,2}/g);if(null===e)throw It("str",t,"parameter","a hex-encoded string");return new Uint8Array(e.map((t=>parseInt(t,16))))}function Nt(t){return Bt("str",t,"parameter"),/^[0-9A-Fa-f]*$/g.test(t)}function zt(t){let e="";return t.forEach((function(t){e+=("0"+(255&t).toString(16)).slice(-2)})),e}function $t(t){if(t.type)return t.type;let{ext:e}=ht().parse(t.name);if(e=Dt(e,"."),""!==e){const t=ut().getType(e);if(t)return t}return""}const Kt={APIKey:"",customUserAgent:"",customCookie:"",onUploadProgress:void 0};function Wt(t,e){const r={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(!Object.prototype.hasOwnProperty.call(t,n))throw new Error(`Property '${n}' not found`);r[n]=t[n]}return r}r(1757);var Yt=r(1191),Gt=(r(1798),r(780)),Vt=r(4501),Jt=r.n(Vt),Xt=r(1227),Zt=r.n(Xt),Qt=r(9742);const te=BigInt("18446744073709551615");function ee(t){if(St("int",t,"parameter"),t<BigInt(0))throw new Error(`Argument ${t} must be an unsigned 64-bit integer; was negative`);if(t>te)throw new Error(`Argument ${t} does not fit in a 64-bit unsigned integer; exceeds 2^64-1`)}const re="RFC4648-HEX";function ne(t){return t=(t=`${t}==`).replace(/-/g,"+").replace(/_/g,"/"),(0,Qt.toByteArray)(t)}function oe(t){let e=(0,Qt.fromByteArray)(t);return e=e.replace(/\+/g,"-").replace(/\//g,"_"),e.slice(0,-2)}function ie(t){const e=t.length,r=new ArrayBuffer(8+e);new DataView(r).setUint32(0,e,!0);const n=new Uint8Array(r);return n.set(t,8),n}function se(...t){const e=(0,Yt.blake2bInit)(32,null);for(let r=0;r<t.length;r++)(0,Yt.blake2bUpdate)(e,t[r]);return(0,Yt.blake2bFinal)(e)}function ae(t){return se(function(t){const e=Ft(t),r=new Uint8Array(8+e.length);return r.set(function(t){const e=new Uint8Array(8);for(let r=0;r<e.length;r++){const n=255&t;e[r]=n,t>>=8}return e}(e.length)),r.set(e,8),r}(t))}function ce(t,e){let r;return r=e?qt(t.dataKey):ae(t.dataKey),se(r,ie(t.data),function(t){ee(t);const e=new Uint8Array(8);for(let r=0;r<e.length;r++){const n=t&BigInt(255);e[r]=Number(n),t>>=BigInt(8)}return e}(t.revision))}const le=34,ue=new Uint8Array(le);class fe{constructor(t,e){var r;this.bitfield=t,this.merkleRoot=e,"number"!=typeof(r=t)&&It("bitfield",r,"constructor parameter","type 'number'"),Lt("merkleRoot",e,"constructor parameter",32)}toBytes(){const t=new ArrayBuffer(le);new DataView(t).setUint16(0,this.bitfield,!0);const e=new Uint8Array(t);return e.set(this.merkleRoot,2),e}toString(){return oe(this.toBytes())}static fromBytes(t){if(t.length!==le)throw new Error("Failed to load skylink data");const e=new DataView(t.buffer).getUint16(0,!0),r=new Uint8Array(32);return r.set(t.slice(2)),new fe(e,r)}static fromString(t){const e=pe(t);return fe.fromBytes(e)}}class he{constructor(t,e){this.algorithm=t,this.key=e}marshalSia(){const t=new Uint8Array(56);return t.set(this.algorithm),t.set(ie(this.key),16),t}}function pe(t){let e;if(55===(t=Mt(t,gt)).length)e=function(t){t=t.toUpperCase();const e=Jt()(t,re);return new Uint8Array(e)}(t);else{if(46!==t.length)throw new Error("skylink has incorrect size");e=ne(t)}if(e.length!=le)throw new Error("failed to load skylink data");return e}function de(t){return""===t||t.startsWith(gt)||(t=`sia://${t}`),t}const me=41943040,ye="file",ge={...Kt,endpointUpload:"/skynet/skyfile",endpointLargeUpload:"/skynet/tus",customFilename:"",largeFileSize:me,retryDelays:[0,5e3,15e3,6e4,3e5,6e5]};async function we(t,e){const r={...ge,...this.customOptions,...e};return t.size<r.largeFileSize?this.uploadSmallFile(t,r):this.uploadLargeFile(t,r)}async function ve(t,e){const r=await this.uploadSmallFileRequest(t,e);return Se(r),{skylink:de(r.data.skylink)}}async function be(t,e){Ae("file",t,"parameter"),Rt("customOptions",e,"parameter",ge);const r={...ge,...this.customOptions,...e},n=new FormData;return t=_e(t),r.customFilename?n.append(ye,t,r.customFilename):n.append(ye,t),await this.executeRequest({...r,endpointPath:r.endpointUpload,method:"post",data:n})}async function xe(t,e){const r=await this.uploadLargeFileRequest(t,e);!function(t){try{if(!t.headers)throw new Error("response.headers field missing");Bt('response.headers["skynet-skylink"]',t.headers["skynet-skylink"],"upload response field")}catch(t){throw new Error(`Did not get a complete upload response despite a successful request. Please try again and report this issue to the devs if it persists. Error: ${t}`)}}(r);let n=r.headers["skynet-skylink"];return n=de(n),{skylink:n}}async function Ee(t,e){Ae("file",t,"parameter"),Rt("customOptions",e,"parameter",ge);const r={...ge,...this.customOptions,...e},n=await Kr(this,r.endpointLargeUpload),o=Wr(void 0,r.customUserAgent,r.customCookie);let i=(t=_e(t)).name;r.customFilename&&(i=r.customFilename);const s=r.onUploadProgress&&function(t,e){const n=t/e;r.onUploadProgress(n,{loaded:t,total:e})};return new Promise(((e,a)=>{const c={endpoint:n,chunkSize:me,retryDelays:r.retryDelays,metadata:{filename:i,filetype:t.type},headers:o,onProgress:s,onBeforeRequest:function(t){t.getUnderlyingObject().withCredentials=!0},onError:t=>{a(t)},onSuccess:async()=>{if(!l.url)return void a(new Error("'upload.url' was not set"));const t=await this.executeRequest({...r,url:l.url,endpointPath:r.endpointLargeUpload,method:"head",headers:{...o,"Tus-Resumable":"1.0.0"}});e(t)}},l=new it(t,c);l.start()}))}async function ke(t,e,r){const n=await this.uploadDirectoryRequest(t,e,r);return Se(n),{skylink:de(n.data.skylink)}}async function Ue(t,e,r){Pt("directory",t,"parameter"),Bt("filename",e,"parameter"),Rt("customOptions",r,"parameter",ge);const n={...ge,...this.customOptions,...r},o=new FormData;return Object.entries(t).forEach((([t,e])=>{e=_e(e),o.append("files[]",e,t)})),await this.executeRequest({...n,endpointPath:n.endpointUpload,method:"post",data:o,query:{filename:e}})}function _e(t){return new File([t],t.name,{type:$t(t)})}function Ae(t,e,r){e instanceof File||It(t,e,r,"type 'File'")}function Se(t){try{if(!t.data)throw new Error("response.data field missing");Bt("skylink",t.data.skylink,"upload response field")}catch(t){throw new Error(`Did not get a complete upload response despite a successful request. Please try again and report this issue to the devs if it persists. ${t}`)}}const Pe={...Kt,endpointDownload:"/",download:!1,path:void 0,range:void 0,query:void 0,subdomain:!1},Re={endpointGetMetadata:"/skynet/metadata",query:void 0},Oe={...Pe,endpointDownloadHns:"hns",hnsSubdomain:"hns",subdomain:!0},Be={...Kt,endpointResolveHns:"hnsres"};async function Ce(t,e){const r={...Pe,...this.customOptions,...e,download:!0},n=await this.getSkylinkUrl(t,r);return window.location.assign(n),n}async function je(t,e){const r={...Oe,...this.customOptions,...e,download:!0},n=await this.getHnsUrl(t,r);return window.location.assign(n),n}async function Le(t,e){const r={...Pe,...this.customOptions,...e};return function(t,e,r){var n;Bt("portalUrl",t,"parameter"),Bt("skylinkUrl",e,"parameter"),Rt("customOptions",r,"parameter",Pe);const o={...Pe,...r},i={};o.download&&(i.attachment=!0);let s,a="";if(o.path){if("string"!=typeof o.path)throw new Error(`opts.path has to be a string, ${typeof o.path} provided`);a=o.path.split("/").map((t=>encodeURIComponent(t))).join("/")}if(o.subdomain){const r=null!==(n=At(e,{onlyPath:!0}))&&void 0!==n?n:"";let o=At(e);if(null===o)throw new Error(`Could not get skylink out of input '${e}'`);o=function(t){return function(t,e,r,n){Bt(t,e,r);const o=e.length;46!==o&&It(t,e,r,`type 'string' of length 46, was length ${o}`)}("skylink",t=Mt(t,gt),"parameter"),e=ne(t),Zt()(e,re,{padding:!1}).toLowerCase();var e}(o),s=wt(t,o),s=bt(s,r,a)}else{const r=At(e,{includePath:!0});if(null===r)throw new Error(`Could not get skylink with path out of input '${e}'`);s=bt(t,o.endpointDownload,r),s=bt(s,a)}return vt(s,i)}(await this.portalUrl(),t,r)}async function Ie(t,e){Bt("domain",t,"parameter"),Rt("customOptions",e,"parameter",Oe);const r={...Oe,...this.customOptions,...e},n={};r.download&&(n.attachment=!0),t=Mt(t,yt);const o=await this.portalUrl();return vt(r.subdomain?wt(wt(o,r.hnsSubdomain),t):bt(o,r.endpointDownloadHns,t),n)}async function Te(t,e){Bt("domain",t,"parameter"),Rt("customOptions",e,"parameter",Be);const r={...Be,...this.customOptions,...e};return t=Mt(t,yt),bt(await this.portalUrl(),r.endpointResolveHns,t)}async function De(t,e){var r;const n={...Re,...this.customOptions,...e};if(At(t,{onlyPath:!0}))throw new Error("Skylink string should not contain a path");const o={endpointDownload:n.endpointGetMetadata,query:n.query},i=await this.getSkylinkUrl(t,o),s=await this.executeRequest({...n,endpointPath:n.endpointGetMetadata,method:"GET",url:i});!function(t){try{if(!t.data)throw new Error("response.data field missing")}catch(t){throw new Error(`Metadata response invalid despite a successful request. Please try again and report this issue to the devs if it persists. ${t}`)}}(s);const a=s.data;if(void 0===s.headers)throw new Error("Did not get 'headers' in response despite a successful request. Please try again and report this issue to the devs if it persists.");return{metadata:a,portalUrl:null!==(r=s.headers["skynet-portal-api"])&&void 0!==r?r:"",skylink:s.headers["skynet-skylink"]?de(s.headers["skynet-skylink"]):""}}async function He(t,e){const r={...Pe,...this.customOptions,...e},n=await this.getSkylinkUrl(t,r);return this.getFileContentRequest(n,r)}async function Me(t,e){const r={...Oe,...this.customOptions,...e},n=await this.getHnsUrl(t,r);return this.getFileContentRequest(n,r)}async function Fe(t,e){var r,n;const o={...Pe,...this.customOptions,...e},i=o.range?{Range:o.range}:void 0,s=await this.executeRequest({...o,endpointPath:o.endpointDownload,method:"get",url:t,headers:i});if(void 0===s.data)throw new Error("Did not get 'data' in response despite a successful request. Please try again and report this issue to the devs if it persists.");if(void 0===s.headers)throw new Error("Did not get 'headers' in response despite a successful request. Please try again and report this issue to the devs if it persists.");const a=null!==(r=s.headers["content-type"])&&void 0!==r?r:"",c=null!==(n=s.headers["skynet-portal-api"])&&void 0!==n?n:"",l=s.headers["skynet-skylink"]?de(s.headers["skynet-skylink"]):"";return{data:s.data,contentType:a,portalUrl:c,skylink:l}}async function qe(t,e){const r={...Pe,...this.customOptions,...e},n=await this.getSkylinkUrl(t,r);return window.open(n,"_blank"),n}async function Ne(t,e){const r={...Oe,...this.customOptions,...e},n=await this.getHnsUrl(t,r);return window.open(n,"_blank"),n}async function ze(t,e){const r={...Be,...this.customOptions,...e},n=await this.getHnsresUrl(t,r),o=await this.executeRequest({...r,endpointPath:r.endpointResolveHns,method:"get",url:n});if(function(t){try{if(!t.data)throw new Error("response.data field missing");t.data.skylink?Bt("response.data.skylink",t.data.skylink,"resolveHns response field"):t.data.registry?(Pt("response.data.registry",t.data.registry,"resolveHns response field"),Bt("response.data.registry.publickey",t.data.registry.publickey,"resolveHns response field"),Bt("response.data.registry.datakey",t.data.registry.datakey,"resolveHns response field")):It("response.data",t.data,"response data object","object containing skylink or registry field")}catch(t){throw new Error(`Did not get a complete resolve HNS response despite a successful request. Please try again and report this issue to the devs if it persists. ${t}`)}}(o),o.data.skylink)return{data:o.data,skylink:o.data.skylink};{const t=await this.registry.getEntryLink(o.data.registry.publickey,o.data.registry.datakey,{hashedDataKeyHex:!0});return{data:o.data,skylink:t}}}class $e{constructor(t){const e=function(t){return t.split("/")}(t).map(Ke);this.version=1,this.path=e}encode(){const t=1+32*this.path.length,e=new Uint8Array(t);e.set([this.version]);let r=1;for(const t of this.path)e.set(t,r),r+=32;return e}getHash(){return se(this.encode())}}function Ke(t){return se(Ft(t))}function We(t){return zt(new $e(t).getHash())}const Ye={...Kt,endpointGetEntry:"/skynet/registry",hashedDataKeyHex:!1},Ge={...Kt,endpointSetEntry:"/skynet/registry",hashedDataKeyHex:!1},Ve=/"revision":\s*([0-9]+)/,Je=/"revision":\s*"([0-9]+)"/,Xe="ed25519:";async function Ze(t,e,r){const n={...Ye,...this.customOptions,...r},o=await this.registry.getEntryUrl(t,e,n);let i;try{i=await this.executeRequest({...n,endpointPath:n.endpointGetEntry,url:o,method:"get",transformResponse:function(t){if(void 0===t)return{};t=t.replace(Ve,'"revision":"$1"');try{return JSON.parse(t)}catch{return t}}})}catch(t){return function(t){if(!t.response)throw new Error(`Error response field not found, incomplete Axios error. Full error: ${t}`);if(!t.response.status)throw new Error(`Error response did not contain expected field 'status'. Full error: ${t}`);if(404===t.response.status)return{entry:null,signature:null};throw t}(t)}try{Bt("response.data.data",i.data.data,"entry response field"),Bt("response.data.revision",i.data.revision,"entry response field"),Bt("response.data.signature",i.data.signature,"entry response field")}catch(t){throw new Error(`Did not get a complete entry response despite a successful request. Please try again and report this issue to the devs if it persists. Error: ${t}`)}const s=BigInt(i.data.revision),a=pt.Buffer.from(qt(i.data.signature));let c=new Uint8Array([]);i.data.data&&(c=qt(i.data.data));const l={entry:{dataKey:e,data:c,revision:s},signature:a};if(Gt.sign.detached.verify(ce(l.entry,n.hashedDataKeyHex),new Uint8Array(l.signature),qt(t)))return l;throw new Error("could not verify signature from retrieved, signed registry entry -- possible corrupted entry")}async function Qe(t,e,r){const n={...Ye,...this.customOptions,...r};return function(t,e,r,n){Bt("portalUrl",t,"parameter"),or("publicKey",e,"parameter"),Bt("dataKey",r,"parameter"),Rt("customOptions",n,"parameter",Ye);const o={...Ye,...n};let i=r;o.hashedDataKeyHex||(i=zt(ae(r)));const s={publickey:(a=e,c=Xe,a.startsWith(c)||(a=`${c}${a}`),a),datakey:i,timeout:5};var a,c;let l=bt(t,o.endpointGetEntry);return l=vt(l,s),l}(await this.portalUrl(),t,e,n)}async function tr(t,e,r){or("publicKey",t,"parameter"),Bt("dataKey",e,"parameter"),Rt("customOptions",r,"parameter",Ye);const n={...Ye,...r},o=function(t){Ct("publicKey",t,"parameter");const e=function(t){Bt("name",t,"parameter");const e=new Uint8Array(16);return e.set(Ft(t)),e}("ed25519"),r=qt(t);return Lt("publicKeyBytes",r,"converted publicKey",32),new he(e,r)}(Dt(t,Xe));let i;return i=n.hashedDataKeyHex?qt(e):ae(e),de(function(t,e){const r=function(t,e){return se(t.marshalSia(),e)}(t,e);return new fe(1,r)}(o,i).toString())}async function er(t,e,r){Ct("privateKey",t,"parameter"),nr("entry",e,"parameter"),Rt("customOptions",r,"parameter",Ge),ee(e.revision);const n={...Ge,...this.customOptions,...r},o=qt(t),i=await async function(t,e,r){const n=qt(t);return(0,Gt.sign)(ce(e,r),n)}(t,e,n.hashedDataKeyHex),{publicKey:s}=Gt.sign.keyPair.fromSecretKey(o);return await this.registry.postSignedEntry(zt(s),e,i,n)}async function rr(t,e,r,n){Ct("publicKey",t,"parameter"),nr("entry",e,"parameter"),jt("signature",r,"parameter"),Rt("customOptions",n,"parameter",Ge);const o={...Ge,...this.customOptions,...n};let i=e.dataKey;o.hashedDataKeyHex||(i=zt(ae(i)));const s=Array.from(e.data),a={publickey:{algorithm:"ed25519",key:Array.from(qt(t))},datakey:i,revision:e.revision.toString(),data:s,signature:Array.from(r)};await this.executeRequest({...o,endpointPath:o.endpointSetEntry,method:"post",data:a,transformRequest:function(t){return JSON.stringify(t).replace(Je,'"revision":$1')}})}function nr(t,e,r){Pt(t,e,r),Bt(`${t}.dataKey`,e.dataKey,`${r} field`),jt(`${t}.data`,e.data,`${r} field`),St(`${t}.revision`,e.revision,`${r} field`)}function or(t,e,r){Nt(Dt(e,Xe))||It(t,e,r,"a hex-encoded string with a valid prefix")}const ir={...Kt,...Ye,...Pe,cachedDataLink:void 0},sr={...Kt,...ir,...Ge,...ge};async function ar(t,e,r){Rt("customOptions",r,"parameter",ir);const n={...ir,...this.customOptions,...r},o=Wt(n,Ye),{entry:i}=await this.registry.getEntry(t,e,o);if(null===i||function(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r])return!1;return!0}(i.data,ue))return{data:null,dataLink:null};jt("entry.data",i.data,"returned entry data");let s="";var a;46===i.data.length?(a=i.data,s=pt.Buffer.from(a).toString("utf-8")):i.data.length===le?s=oe(i.data):It("entry.data",i.data,"returned entry data","length 34 bytes");const c=de(s);if(n.cachedDataLink&&s===Ot("opts.cachedDataLink",n.cachedDataLink,"optional parameter"))return{data:null,dataLink:c};const l=Wt(n,Pe),{data:u}=await this.getFileContent(c,l);if("object"!=typeof u||null===u)throw new Error(`File data for the entry at data key '${e}' is not JSON.`);if(!u._data||!u._v)return{data:u,dataLink:c};const f=u._data;if("object"!=typeof f||null===u)throw new Error(`File data '_data' for the entry at data key '${e}' is not JSON.`);return{data:f,dataLink:c}}async function cr(t,e,r,n){Ct("privateKey",t,"parameter"),Bt("dataKey",e,"parameter"),Pt("json",r,"parameter"),Rt("customOptions",n,"parameter",sr);const o={...sr,...this.customOptions,...n},{publicKey:i}=Gt.sign.keyPair.fromSecretKey(qt(t)),[s,a]=await hr(this,zt(i),e,r,o),c=Wt(o,Ge);return await this.registry.setEntry(t,s,c),{data:r,dataLink:de(a)}}async function lr(t,e,r){Ct("privateKey",t,"parameter"),Bt("dataKey",e,"parameter"),Rt("customOptions",r,"parameter",sr);const n={...sr,...this.customOptions,...r},{publicKey:o}=Gt.sign.keyPair.fromSecretKey(qt(t)),i=Wt(n,Ye),s=await fr(this,zt(o),e,new Uint8Array(le),i),a=Wt(n,Ge);await this.registry.setEntry(t,s,a)}async function ur(t,e,r,n){Ct("privateKey",t,"parameter"),Bt("dataKey",e,"parameter"),Bt("dataLink",r,"parameter"),Rt("customOptions",n,"parameter",sr);const o={...sr,...this.customOptions,...n},{publicKey:i}=Gt.sign.keyPair.fromSecretKey(qt(t)),s=Wt(o,Ye),a=await fr(this,zt(i),e,pe(r),s),c=Wt(o,Ge);await this.registry.setEntry(t,a,c)}async function fr(t,e,r,n,o){const i={...Ye,...t.customOptions,...o};return{dataKey:r,data:n,revision:pr((await t.registry.getEntry(e,r,i)).entry)}}async function hr(t,e,r,n,o){const i={...sr,...t.customOptions,...o},s={_data:n,_v:2};let a=r;i.hashedDataKeyHex||(a=zt(Ft(r)));const c=new File([JSON.stringify(s)],`dk:${a}`,{type:"application/json"}),l=Wt(i,ge),u=t.uploadFile(c,l),f=Wt(i,Ye),h=t.registry.getEntry(e,r,f),[p,d]=await Promise.all([h,u]),m=pr(p.entry),y=Mt(d.skylink,gt),g=ne(y);return Lt("data",g,"skylink byte array",le),[{dataKey:r,data:g,revision:m},de(y)]}function pr(t){let e;if(e=null===t?BigInt(0):t.revision+BigInt(1),e>te)throw new Error("Current entry already has maximum allowed revision, could not update the entry");return e}async function dr(t,e,r){Bt("userID",t,"parameter"),Bt("path",e,"parameter"),Rt("customOptions",r,"parameter",ir);const n={...ir,...this.customOptions,...r},o=We(e);return n.hashedDataKeyHex=!0,await this.db.getJSON(t,o,n)}async function mr(t,e){Bt("userID",t,"parameter"),Bt("path",e,"parameter");const r=We(e),n={...Ye,hashedDataKeyHex:!0};return await this.registry.getEntryLink(t,r,n)}async function yr(t,e,r){Bt("userID",t,"parameter"),Bt("path",e,"parameter"),Rt("customOptions",r,"parameter",Ye);const n={...Ye,...this.customOptions,...r},o=We(e);n.hashedDataKeyHex=!0;const{entry:i}=await this.registry.getEntry(t,o,n);return i?{data:i.data}:{data:null}}const gr={...Kt,endpointPin:"/skynet/pin"};async function wr(t,e){const r=Ot("skylinkUrl",t,"parameter"),n={...gr,...this.customOptions,...e};if(At(t,{onlyPath:!0}))throw new Error("Skylink string should not contain a path");const o=await this.executeRequest({...n,endpointPath:n.endpointPin,method:"post",extraPath:r});!function(t){try{if(!t.headers)throw new Error("response.headers field missing");Bt('response.headers["skynet-skylink"]',t.headers["skynet-skylink"],"pin response field")}catch(t){throw new Error(`Did not get a complete pin response despite a successful request. Please try again and report this issue to the devs if it persists. ${t}`)}}(o);let i=o.headers["skynet-skylink"];return i=de(i),{skylink:i}}const vr="@post-me";function br(){let t=0;return function(){const e=t;return t+=1,e}}class xr{constructor(){this._listeners={}}addEventListener(t,e){let r=this._listeners[t];r||(r=new Set,this._listeners[t]=r),r.add(e)}removeEventListener(t,e){let r=this._listeners[t];r&&r.delete(e)}once(t){return new Promise((e=>{const r=n=>{this.removeEventListener(t,r),e(n)};this.addEventListener(t,r)}))}emit(t,e){let r=this._listeners[t];r&&r.forEach((t=>{t(e)}))}removeAllListeners(){Object.values(this._listeners).forEach((t=>{t&&t.clear()}))}}var Er,kr;function Ur(t){return t&&t.type===vr}function _r(t){return`callback_${t}`}function Ar(t){return`response_${t}`}!function(t){t.HandshakeRequest="handshake-request",t.HandshakeResponse="handshake-response",t.Call="call",t.Response="response",t.Error="error",t.Event="event",t.Callback="callback"}(Er||(Er={}));class Sr extends xr{constructor(t,e){super(),this.uniqueId=br(),this.messenger=t,this.sessionId=e,this.removeMessengerListener=this.messenger.addMessageListener(this.messengerListener.bind(this))}messengerListener(t){const{data:e}=t;var r;Ur(e)&&this.sessionId===e.sessionId&&(Ur(r=e)&&r.action===Er.Call?this.emit(Er.Call,e):function(t){return Ur(t)&&t.action===Er.Response}(e)?this.emit(Ar(e.requestId),e):function(t){return Ur(t)&&t.action===Er.Event}(e)?this.emit(Er.Event,e):function(t){return Ur(t)&&t.action===Er.Callback}(e)&&this.emit(_r(e.requestId),e))}callOnRemote(t,e,r){const n=this.uniqueId(),o=_r(n),i=Ar(n),s=function(t,e,r,n){return{type:vr,action:Er.Call,sessionId:t,requestId:e,methodName:r,args:n}}(this.sessionId,n,t,e);return this.messenger.postMessage(s,r),{callbackEvent:o,responseEvent:i}}respondToRemote(t,e,r,n){r instanceof Error&&(r={name:r.name,message:r.message});const o=function(t,e,r,n){const o={type:vr,action:Er.Response,sessionId:t,requestId:e};return void 0!==r&&(o.result=r),void 0!==n&&(o.error=n),o}(this.sessionId,t,e,r);this.messenger.postMessage(o,n)}callbackToRemote(t,e,r){const n=function(t,e,r,n){return{type:vr,action:Er.Callback,sessionId:t,requestId:e,callbackId:r,args:n}}(this.sessionId,t,e,r);this.messenger.postMessage(n)}emitToRemote(t,e,r){const n=function(t,e,r){return{type:vr,action:Er.Event,sessionId:t,eventName:e,payload:r}}(this.sessionId,t,e);this.messenger.postMessage(n,r)}close(){this.removeMessengerListener(),this.removeAllListeners()}}class Pr extends xr{constructor(t,e){super(),this.messenger=t,this.sessionId=e,this.removeMessengerListener=this.messenger.addMessageListener(this.messengerListener.bind(this))}messengerListener(t){const{data:e}=t;var r;Ur(e)&&this.sessionId===e.sessionId&&Ur(r=e)&&r.action===Er.HandshakeResponse&&this.emit(e.sessionId,e)}initiateHandshake(){const t=(e=this.sessionId,{type:vr,action:Er.HandshakeRequest,sessionId:e});var e;return this.messenger.postMessage(t),this.sessionId}close(){this.removeMessengerListener(),this.removeAllListeners()}}!function(t){t.Callback="callback"}(kr||(kr={}));class Rr extends xr{constructor(t){super(),this._dispatcher=t,this._callTransfer={},this._dispatcher.addEventListener(Er.Event,this._handleEvent.bind(this))}close(){this.removeAllListeners()}setCallTransfer(t,e){this._callTransfer[t]=e}call(t,...e){return this.customCall(t,e)}customCall(t,e,r={}){return new Promise(((n,o)=>{const i=[],s=[];let a=0;e.forEach((t=>{"function"==typeof t?(s.push(t),i.push(function(t){return{type:vr,proxy:kr.Callback,callbackId:t}}(a)),a+=1):i.push(t)}));const c=s.length>0;let l;c&&(l=t=>{const{callbackId:e,args:r}=t;s[e](...r)});let u=r.transfer;void 0===u&&this._callTransfer[t]&&(u=this._callTransfer[t](...i));const{callbackEvent:f,responseEvent:h}=this._dispatcher.callOnRemote(t,i,u);c&&this._dispatcher.addEventListener(f,l),this._dispatcher.once(h).then((t=>{l&&this._dispatcher.removeEventListener(f,l);const{result:e,error:r}=t;void 0!==r?o(r):n(e)}))}))}_handleEvent(t){const{eventName:e,payload:r}=t;this.emit(e,r)}}class Or{constructor(t,e){this._dispatcher=t,this._methods=e,this._returnTransfer={},this._emitTransfer={},this._dispatcher.addEventListener(Er.Call,this._handleCall.bind(this))}emit(t,e,r={}){let n=r.transfer;void 0===n&&this._emitTransfer[t]&&(n=this._emitTransfer[t](e)),this._dispatcher.emitToRemote(t,e,n)}setMethods(t){this._methods=t}setMethod(t,e){this._methods[t]=e}setReturnTransfer(t,e){this._returnTransfer[t]=e}setEmitTransfer(t,e){this._emitTransfer[t]=e}_handleCall(t){const{requestId:e,methodName:r,args:n}=t;new Promise(((t,o)=>{if("function"!=typeof this._methods[r])return void o(new Error(`The method "${r}" has not been implemented.`));const i=n.map((t=>{if((r=t)&&r.type===vr&&r.proxy===kr.Callback){const{callbackId:r}=t;return(...t)=>{this._dispatcher.callbackToRemote(e,r,t)}}return t;var r}));Promise.resolve(this._methods[r](...i)).then(t).catch(o)})).then((t=>{let n;this._returnTransfer[r]&&(n=this._returnTransfer[r](t)),this._dispatcher.respondToRemote(e,t,void 0,n)})).catch((t=>{this._dispatcher.respondToRemote(e,void 0,t)}))}}class Br{constructor(t,e){this._dispatcher=t,this._localHandle=new Or(t,e),this._remoteHandle=new Rr(t)}close(){this._dispatcher.close(),this.remoteHandle().close()}localHandle(){return this._localHandle}remoteHandle(){return this._remoteHandle}}const Cr=br();function jr(t,e={},r=5,n=100){const o=Cr();let i=!1;return new Promise(((s,a)=>{const c=new Pr(t,o);c.once(o).then((r=>{i=!0,c.close();const{sessionId:n}=r,o=new Sr(t,n),a=new Br(o,e);s(a)})),((t,e,r,n,o)=>{let i=0;const s=()=>{!e()&&(i<n||n<1)?(c.initiateHandshake(),i+=1,setTimeout(s,o)):!e()&&i>=n&&n>=1&&a(new Error("Handshake failed, reached maximum number of attempts"))};s()})(0,(()=>i),0,r,n)}))}class Lr{constructor({localWindow:t,remoteWindow:e,remoteOrigin:r}){t=t||window,this.postMessage=(t,n)=>{e.postMessage(t,r,n)},this.addMessageListener=n=>{const o=t=>{((t,e,r)=>{const{source:n,origin:o}=t;return n===e&&(o===r||"*"===r)})(t,e,r)&&n(t)};return t.addEventListener("message",o),()=>{t.removeEventListener("message",o)}}}}var Ir=r(1433);const Tr={dev:!1,debug:!1,alpha:!1,handshakeMaxAttempts:Ir.defaultHandshakeMaxAttempts,handshakeAttemptsInterval:Ir.defaultHandshakeAttemptsInterval};class Dr{constructor(t,e,r,n,o){this.url=t,this.client=e,this.childFrame=r,this.connection=n,this.options=o}static async init(t,e,r){const n={...Tr,...r};let o=await t.getFullDomainUrl(e);n.dev&&(o=vt(o,{dev:"true"})),n.debug&&(o=vt(o,{debug:"true"})),n.alpha&&(o=vt(o,{alpha:"true"}));const i=(0,Ir.createIframe)(o,o);if(!i.contentWindow)throw new Error("'childFrame.contentWindow' was null");const s=i.contentWindow,a=new Lr({localWindow:window,remoteWindow:s,remoteOrigin:"*"}),c=await jr(a,{},n.handshakeMaxAttempts,n.handshakeAttemptsInterval);return new Dr(o,t,i,c,n)}async call(t,...e){return this.connection.remoteHandle().call(t,...e)}}async function Hr(t){return function(t,e){let r,n;return Bt("portalUrl",t,"parameter"),Bt("domain",e,"parameter"),e=Tt(e=Mt(e,gt)),[e,r]=e.split(/\/(.+)/),n="localhost"===e?"localhost":wt(t,e),r&&(n=function(t,e){let r;if(Bt("url",t,"parameter"),Bt("path",e,"parameter"),e=Tt(e),"localhost"===t)r=`localhost/${e}`;else{const n=new URL(t);n.pathname=e,r=n.toString()}return Ht(r,"/")}(n,r)),n}(await this.portalUrl(),t)}async function Mr(t){return function(t,e){let r;Bt("portalUrl",t,"parameter"),Bt("fullDomain",e,"parameter");try{const t=new URL(e);e=t.hostname,r=t.pathname,r=Tt(r)}catch{e=Tt(e),[e,r]=e.split(/\/(.+)/)}let n=Ht(e,Tt(new URL(t).hostname),1);return n=Ht(n,"."),r&&""!==r&&(r=Tt(r),n=`${n}/${r}`),n}(await this.portalUrl(),t)}const[Fr,qr]=[600,600];async function Nr(t,e){return await zr.New(this,t,e)}class zr{constructor(t,e,r){this.connector=t,this.hostDomain=r,this.dacs=[],this.grantedPermissions=[],this.pendingPermissions=e}static async New(t,e,r){const n={...Tr,...r};if(zr.instance)return zr.instance;let o="skynet-mysky.hns";n.alpha?o="sandbridge.hns":n.dev&&(o="skynet-mysky-dev.hns");const i=await Dr.init(t,o,r),s=await t.extractDomain(window.location.hostname),a=[];if(e){const t=new Ir.Permission(s,e,Ir.PermCategory.Hidden,Ir.PermType.Read),r=new Ir.Permission(s,e,Ir.PermCategory.Hidden,Ir.PermType.Write);a.push(t,r)}return zr.instance=new zr(i,a,s),zr.instance}async loadDacs(...t){const e=[];for(const r of t)e.push(this.loadDac(r));this.dacs.push(...t),await Promise.all(e)}async addPermissions(...t){this.pendingPermissions.push(...t)}async checkLogin(){const[t,e]=await this.connector.connection.remoteHandle().call("checkLogin",this.pendingPermissions),{grantedPermissions:r,failedPermissions:n}=e;this.grantedPermissions=r,this.pendingPermissions=n;const o=t&&0===n.length;return this.handleLogin(o),o}async destroy(){this.connector.connection.close();const t=this.connector.childFrame;if(t){if(!t.parentNode)throw new Error("'childFrame.parentNode' was not set");t.parentNode.removeChild(t)}}async logout(){return await this.connector.connection.remoteHandle().call("logout")}async requestLoginAccess(){let t,e,r=!1;const{promise:n,controller:o}=(0,Ir.monitorWindowError)(),i=new Promise((async(o,i)=>{n.catch((t=>{t!==Ir.errorWindowClosed?i(t):o()}));try{t=await this.launchUI(),e=await this.connectUi(t);const[n,i]=await e.remoteHandle().call("requestLoginAccess",this.pendingPermissions);r=n;const{grantedPermissions:s,failedPermissions:a}=i;this.grantedPermissions=s,this.pendingPermissions=a,o()}catch(t){i(t)}}));await i.catch((t=>{throw t})).finally((()=>{t&&t.close(),e&&e.close(),o.cleanup()}));const s=r&&0===this.pendingPermissions.length;return this.handleLogin(s),s}async userID(t){return await this.connector.connection.remoteHandle().call("userID",t)}async getJSON(t,e){Bt("path",t,"parameter"),Rt("customOptions",e,"parameter",ir);const r={...ir,...this.connector.client.customOptions,...e},n=await this.userID(),o=We(t);return r.hashedDataKeyHex=!0,await this.connector.client.db.getJSON(n,o,r)}async getEntryLink(t){Bt("path",t,"parameter");const e=await this.userID(),r=We(t),n={...Ye,hashedDataKeyHex:!0};return await this.connector.client.registry.getEntryLink(e,r,n)}async setJSON(t,e,r){Bt("path",t,"parameter"),Pt("json",e,"parameter"),Rt("customOptions",r,"parameter",sr);const n={...sr,...this.connector.client.customOptions,...r},o=await this.userID(),i=We(t);n.hashedDataKeyHex=!0;const[s,a]=await hr(this.connector.client,o,i,e,n),c=await this.signRegistryEntry(s,t),l=Wt(n,Ge);return await this.connector.client.registry.postSignedEntry(o,s,c,l),{data:e,dataLink:a}}async setDataLink(t,e,r){Bt("path",t,"parameter"),Bt("dataLink",e,"parameter"),Rt("customOptions",r,"parameter",sr);const n={...sr,...this.connector.client.customOptions,...r},o=await this.userID(),i=We(t);n.hashedDataKeyHex=!0;const s=Wt(n,Ye),a=await fr(this.connector.client,o,i,pe(e),s),c=await this.signRegistryEntry(a,t),l=Wt(n,Ge);await this.connector.client.registry.postSignedEntry(o,a,c,l)}async deleteJSON(t,e){Bt("path",t,"parameter"),Rt("customOptions",e,"parameter",sr);const r={...sr,...this.connector.client.customOptions,...e},n=await this.userID(),o=We(t);r.hashedDataKeyHex=!0;const i=Wt(r,Ye),s=await fr(this.connector.client,n,o,new Uint8Array(le),i),a=await this.signRegistryEntry(s,t),c=Wt(r,Ge);await this.connector.client.registry.postSignedEntry(n,s,a,c)}async getEntryData(t,e){Bt("path",t,"parameter"),Rt("customOptions",e,"parameter",Ye);const r={...Ye,...this.connector.client.customOptions,...e},n=await this.userID(),o=We(t);r.hashedDataKeyHex=!0;const{entry:i}=await this.connector.client.registry.getEntry(n,o,r);return i?{data:i.data}:{data:null}}async setEntryData(t,e,r){Bt("path",t,"parameter"),jt("data",e,"parameter"),Rt("customOptions",r,"parameter",Ye),e.length>70&&It("data",e,"parameter",`'Uint8Array' of length <= 70, was length ${e.length}`);const n={...sr,...this.connector.client.customOptions,...r},o=await this.userID(),i=We(t);n.hashedDataKeyHex=!0;const s=Wt(n,Ye),a=await fr(this.connector.client,o,i,e,s),c=await this.signRegistryEntry(a,t),l=Wt(n,Ge);return await this.connector.client.registry.postSignedEntry(o,a,c,l),{data:a.data}}async catchError(t){const e=new CustomEvent(Ir.dispatchedErrorEvent,{detail:t});window.dispatchEvent(e)}async launchUI(){const t=new URL(this.connector.url);t.pathname="ui.html";const e=t.toString(),r=function(t,e,r,n){t=(0,Ir.ensureUrl)(t);const o=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=s/window.screen.availWidth,l=(s-r)/2/c+o,u=(a-n)/2/c+i,f=window.open(t,"MySky UI",`\nscrollbars=yes,\nwidth=${r/c},\nheight=${n/c},\ntop=${u},\nleft=${l}\n`);if(!f)throw new Error("could not open window");return f.focus&&f.focus(),f}(e,0,Fr,qr);if(!r)throw new Error(`Could not open window at '${e}'`);return r}async connectUi(t){const e=this.connector.options,r=new Lr({localWindow:window,remoteWindow:t,remoteOrigin:"*"}),n={catchError:this.catchError};return await jr(r,n,e.handshakeMaxAttempts,e.handshakeAttemptsInterval)}async loadDac(t){await t.init(this.connector.client,this.connector.options);const e=t.getPermissions();this.addPermissions(...e)}handleLogin(t){if(t)for(const t of this.dacs)t.onUserLogin()}async signRegistryEntry(t,e){return await this.connector.connection.remoteHandle().call("signRegistryEntry",t,e)}}zr.instance=null;class $r{constructor(t="",e={}){this.uploadFile=we,this.uploadSmallFile=ve,this.uploadSmallFileRequest=be,this.uploadLargeFile=xe,this.uploadLargeFileRequest=Ee,this.uploadDirectory=ke,this.uploadDirectoryRequest=Ue,this.downloadFile=Ce,this.downloadFileHns=je,this.getSkylinkUrl=Le,this.getHnsUrl=Ie,this.getHnsresUrl=Te,this.getMetadata=De,this.getFileContent=He,this.getFileContentHns=Me,this.getFileContentRequest=Fe,this.openFile=qe,this.openFileHns=Ne,this.resolveHns=ze,this.pinSkylink=wr,this.extractDomain=Mr,this.getFullDomainUrl=Hr,this.loadMySky=Nr,this.file={getJSON:dr.bind(this),getEntryData:yr.bind(this),getEntryLink:mr.bind(this)},this.db={deleteJSON:lr.bind(this),getJSON:ar.bind(this),setJSON:cr.bind(this),setDataLink:ur.bind(this)},this.registry={getEntry:Ze.bind(this),getEntryUrl:Qe.bind(this),getEntryLink:tr.bind(this),setEntry:er.bind(this),postSignedEntry:rr.bind(this)},""===t?t="undefined"==typeof window?"/":window.location.origin:this.customPortalUrl=t,this.initialPortalUrl=t,this.customOptions=e}async initPortalUrl(){this.customPortalUrl||($r.resolvedPortalUrl||($r.resolvedPortalUrl=new Promise(((t,e)=>{this.executeRequest({...this.customOptions,method:"head",url:this.initialPortalUrl,endpointPath:"/"}).then((r=>{void 0===r.headers&&e(new Error("Did not get 'headers' in response despite a successful request. Please try again and report this issue to the devs if it persists."));const n=r.headers["skynet-portal-api"];n||e(new Error("Could not get portal URL for the given portal")),t(Ht(n,"/"))}))}))),await $r.resolvedPortalUrl)}async portalUrl(){return this.customPortalUrl?this.customPortalUrl:(this.initPortalUrl(),await $r.resolvedPortalUrl)}async executeRequest(t){const r=await Kr(this,t.endpointPath,t.url,t.extraPath,t.query),n=Wr(t.headers,t.customUserAgent,t.customCookie),o=t.APIKey?{username:"",password:t.APIKey}:void 0,i=t.onUploadProgress&&function(e){const r=e.loaded/e.total;t.onUploadProgress&&t.onUploadProgress(r,e)};return e()({url:r,method:t.method,data:t.data,headers:n,auth:o,onUploadProgress:i,transformRequest:t.transformRequest,transformResponse:t.transformResponse,maxContentLength:1/0,maxBodyLength:1/0,withCredentials:!0})}}async function Kr(t,e,r,n,o){return r||(r=bt(await t.portalUrl(),e,null!=n?n:"")),o&&(r=vt(r,o)),r}function Wr(t,e,r){return t||(t={}),e&&(t["User-Agent"]=e),r&&(t.Cookie=r),t}new $r})()})();